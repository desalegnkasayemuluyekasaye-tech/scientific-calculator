/* Modern Scientific Calculator Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

:root {
    --primary: #6366f1;
    --primary-dark: #4f46e5;
    --secondary: #8b5cf6;
    --success: #10b981;
    --warning: #f59e0b;
    --danger: #ef4444;
    --bg-dark: #1e293b;
    --bg-darker: #0f172a;
    --bg-light: #334155;
    --text-light: #f1f5f9;
    --text-muted: #94a3b8;
    --border: #475569;
    --shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    --glow: 0 0 20px rgba(99, 102, 241, 0.5);
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 2rem;
}

.calculator-container {
    width: 100%;
    max-width: 900px;
    animation: fadeInScale 0.5s ease;
}

@keyframes fadeInScale {
    from {
        opacity: 0;
        transform: scale(0.9);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

.calculator {
    background: var(--bg-dark);
    border-radius: 25px;
    padding: 2rem;
    box-shadow: var(--shadow);
    position: relative;
}

/* Header */
.calc-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
    flex-wrap: wrap;
    gap: 1rem;
}

.header-left {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    color: var(--text-light);
}

.header-left i {
    font-size: 1.75rem;
    color: var(--primary);
}

.header-left h1 {
    font-size: 1.5rem;
    font-weight: 600;
}

.mode-toggle {
    display: flex;
    gap: 0.5rem;
    background: var(--bg-darker);
    padding: 0.25rem;
    border-radius: 12px;
}

.mode-btn {
    padding: 0.5rem 1rem;
    background: transparent;
    color: var(--text-muted);
    border: none;
    border-radius: 10px;
    cursor: pointer;
    font-weight: 600;
    transition: all 0.3s;
}

.mode-btn:hover {
    color: var(--text-light);
}

.mode-btn.active {
    background: var(--primary);
    color: white;
    box-shadow: var(--glow);
}

/* Display Section */
.display-section {
    background: var(--bg-darker);
    border-radius: 15px;
    padding: 1.5rem;
    margin-bottom: 1.5rem;
    min-height: 120px;
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
}

.history-display {
    color: var(--text-muted);
    font-size: 0.9rem;
    min-height: 20px;
    margin-bottom: 0.5rem;
    text-align: right;
}

.main-display {
    color: var(--text-light);
    font-size: 2.5rem;
    font-weight: 600;
    text-align: right;
    word-break: break-all;
    min-height: 50px;
}

.expression-display {
    color: var(--primary);
    font-size: 1rem;
    text-align: right;
    min-height: 20px;
    margin-top: 0.5rem;
}

/* Memory Section */
.memory-section {
    display: flex;
    gap: 0.5rem;
    margin-bottom: 1rem;
    flex-wrap: wrap;
}

.memory-btn {
    flex: 1;
    min-width: 60px;
    padding: 0.5rem;
    background: var(--bg-light);
    color: var(--text-light);
    border: 1px solid var(--border);
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    transition: all 0.3s;
}

.memory-btn:hover {
    background: var(--primary);
    border-color: var(--primary);
    transform: translateY(-2px);
}

.memory-indicator {
    flex: 1;
    min-width: 120px;
    padding: 0.5rem;
    background: var(--bg-darker);
    color: var(--text-muted);
    border-radius: 8px;
    text-align: center;
    font-size: 0.9rem;
}

.memory-indicator span {
    color: var(--primary);
    font-weight: 600;
}

/* Buttons Grid */
.buttons-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 0.75rem;
    margin-bottom: 1rem;
}

.advanced-grid {
    grid-template-columns: repeat(5, 1fr);
}

.btn {
    padding: 1.25rem;
    font-size: 1.1rem;
    font-weight: 600;
    border: none;
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.2s;
    color: var(--text-light);
    background: var(--bg-light);
}

.btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

.btn:active {
    transform: translateY(0);
}

.btn-number {
    background: var(--bg-light);
}

.btn-number:hover {
    background: #475569;
}

.btn-operator {
    background: var(--primary);
    color: white;
}

.btn-operator:hover {
    background: var(--primary-dark);
    box-shadow: var(--glow);
}

.btn-function {
    background: var(--bg-light);
    font-size: 0.95rem;
}

.btn-function:hover {
    background: var(--secondary);
    color: white;
}

.btn-equals {
    background: var(--success);
    color: white;
    font-size: 1.5rem;
}

.btn-equals:hover {
    background: #059669;
    box-shadow: 0 0 20px rgba(16, 185, 129, 0.5);
}

/* Calculus Mode */
.calculus-mode {
    margin-top: 1rem;
}

.calculus-section {
    background: var(--bg-darker);
    border-radius: 15px;
    padding: 1.5rem;
    margin-bottom: 1.5rem;
}

.calculus-section h3 {
    color: var(--text-light);
    margin-bottom: 1rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.calculus-section h3 i {
    color: var(--primary);
}

.calculus-input {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.calculus-input input {
    padding: 0.875rem;
    background: var(--bg-light);
    border: 2px solid var(--border);
    border-radius: 10px;
    color: var(--text-light);
    font-size: 1rem;
}

.calculus-input input:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2);
}

.integral-bounds {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0.75rem;
}

.btn-calculus {
    padding: 1rem;
    background: var(--primary);
    color: white;
    border: none;
    border-radius: 10px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    transition: all 0.3s;
}

.btn-calculus:hover {
    background: var(--primary-dark);
    transform: translateY(-2px);
    box-shadow: var(--glow);
}

.calculus-result {
    margin-top: 1rem;
    padding: 1rem;
    background: var(--bg-light);
    border-left: 4px solid var(--primary);
    border-radius: 8px;
    color: var(--text-light);
    min-height: 50px;
    font-family: 'Courier New', monospace;
}

.calculus-result:empty::before {
    content: 'Result will appear here...';
    color: var(--text-muted);
    font-style: italic;
}

/* History Panel */
.history-panel {
    position: fixed;
    right: -350px;
    top: 0;
    width: 350px;
    height: 100vh;
    background: var(--bg-dark);
    box-shadow: -5px 0 20px rgba(0, 0, 0, 0.3);
    transition: right 0.3s ease;
    z-index: 1000;
    display: flex;
    flex-direction: column;
}

.history-panel.active {
    right: 0;
}

.history-header {
    padding: 1.5rem;
    background: var(--bg-darker);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.history-header h3 {
    color: var(--text-light);
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.btn-clear-history {
    padding: 0.5rem 1rem;
    background: var(--danger);
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-weight: 600;
    transition: all 0.3s;
}

.btn-clear-history:hover {
    background: #dc2626;
}

.history-list {
    flex: 1;
    overflow-y: auto;
    padding: 1rem;
}

.history-item {
    background: var(--bg-light);
    padding: 1rem;
    border-radius: 10px;
    margin-bottom: 0.75rem;
    cursor: pointer;
    transition: all 0.3s;
}

.history-item:hover {
    background: var(--primary);
    transform: translateX(-5px);
}

.history-expression {
    color: var(--text-muted);
    font-size: 0.9rem;
    margin-bottom: 0.25rem;
}

.history-result {
    color: var(--text-light);
    font-size: 1.1rem;
    font-weight: 600;
}

.no-history {
    color: var(--text-muted);
    text-align: center;
    padding: 2rem;
    font-style: italic;
}

.toggle-history {
    position: fixed;
    right: 20px;
    bottom: 20px;
    width: 60px;
    height: 60px;
    background: var(--primary);
    color: white;
    border: none;
    border-radius: 50%;
    font-size: 1.5rem;
    cursor: pointer;
    box-shadow: var(--shadow);
    transition: all 0.3s;
    z-index: 999;
}

.toggle-history:hover {
    background: var(--primary-dark);
    transform: scale(1.1);
    box-shadow: var(--glow);
}

/* Utility Classes */
.hidden {
    display: none !important;
}

/* Responsive Design */
@media (max-width: 768px) {
    body {
        padding: 1rem;
    }

    .calculator {
        padding: 1.5rem;
    }

    .calc-header {
        flex-direction: column;
        align-items: flex-start;
    }

    .main-display {
        font-size: 2rem;
    }

    .buttons-grid {
        grid-template-columns: repeat(4, 1fr);
        gap: 0.5rem;
    }

    .advanced-grid {
        grid-template-columns: repeat(4, 1fr);
    }

    .btn {
        padding: 1rem;
        font-size: 1rem;
    }

    .history-panel {
        width: 100%;
        right: -100%;
    }

    .mode-toggle {
        width: 100%;
    }

    .mode-btn {
        flex: 1;
    }
}

@media (max-width: 480px) {
    .main-display {
        font-size: 1.5rem;
    }

    .btn {
        padding: 0.75rem;
        font-size: 0.9rem;
    }

    .memory-section {
        gap: 0.25rem;
    }

    .memory-btn {
        min-width: 50px;
        padding: 0.4rem;
        font-size: 0.85rem;
    }
}

/* Scrollbar Styling */
.history-list::-webkit-scrollbar {
    width: 8px;
}

.history-list::-webkit-scrollbar-track {
    background: var(--bg-darker);
}

.history-list::-webkit-scrollbar-thumb {
    background: var(--primary);
    border-radius: 4px;
}

.history-list::-webkit-scrollbar-thumb:hover {
    background: var(--primary-dark);
}
/* Combinatorics Mode Styles */
.combinatorics-mode {
    margin-top: 1rem;
}

.combinatorics-section {
    background: var(--bg-darker);
    border-radius: 15px;
    padding: 1.5rem;
    margin-bottom: 1.5rem;
}

.combinatorics-section h3 {
    color: var(--text-light);
    margin-bottom: 1rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.combinatorics-section h3 i {
    color: var(--primary);
}

.combinatorics-input {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.input-group {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.input-group label {
    color: var(--text-light);
    font-weight: 600;
    font-size: 0.9rem;
}

.input-group input {
    padding: 0.875rem;
    background: var(--bg-light);
    border: 2px solid var(--border);
    border-radius: 10px;
    color: var(--text-light);
    font-size: 1rem;
}

.input-group input:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2);
}

.binomial-inputs {
    display: grid;
    grid-template-columns: 1fr auto 1fr;
    gap: 0.5rem;
    align-items: center;
}

.binomial-inputs span {
    color: var(--text-light);
    font-size: 1.2rem;
    font-weight: bold;
    text-align: center;
}

.btn-combinatorics {
    padding: 1rem;
    background: var(--secondary);
    color: white;
    border: none;
    border-radius: 10px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    transition: all 0.3s;
}

.btn-combinatorics:hover {
    background: #7c3aed;
    transform: translateY(-2px);
    box-shadow: 0 0 20px rgba(139, 92, 246, 0.5);
}

.combinatorics-result {
    margin-top: 1rem;
    padding: 1rem;
    background: var(--bg-light);
    border-left: 4px solid var(--secondary);
    border-radius: 8px;
    color: var(--text-light);
    min-height: 50px;
    line-height: 1.6;
}

.combinatorics-result:empty::before {
    content: 'Result will appear here...';
    color: var(--text-muted);
    font-style: italic;
}

/* Quick Combinatorics Buttons */
.quick-buttons {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
    gap: 0.5rem;
    margin-bottom: 1rem;
}

.btn-quick {
    padding: 0.75rem;
    background: var(--bg-light);
    color: var(--text-light);
    border: 2px solid var(--border);
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    font-size: 0.9rem;
    transition: all 0.3s;
}

.btn-quick:hover {
    background: var(--warning);
    border-color: var(--warning);
    color: white;
    transform: translateY(-2px);
}

.quick-input {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0.75rem;
    margin-bottom: 1rem;
}

.quick-input input {
    padding: 0.75rem;
    background: var(--bg-light);
    border: 2px solid var(--border);
    border-radius: 8px;
    color: var(--text-light);
    font-size: 1rem;
}

.quick-input input:focus {
    outline: none;
    border-color: var(--warning);
    box-shadow: 0 0 0 3px rgba(245, 158, 11, 0.2);
}

/* Responsive adjustments for combinatorics */
@media (max-width: 768px) {
    .binomial-inputs {
        grid-template-columns: 1fr;
        gap: 0.75rem;
    }
    
    .binomial-inputs span {
        display: none;
    }
    
    .quick-buttons {
        grid-template-columns: repeat(3, 1fr);
    }
    
    .btn-quick {
        font-size: 0.8rem;
        padding: 0.6rem;
    }
}

@media (max-width: 480px) {
    .quick-buttons {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .input-group {
        gap: 0.25rem;
    }
    
    .combinatorics-input {
        gap: 0.75rem;
    }
}
/* Enhanced Binomial Theorem Styles */
.binomial-options {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: 0.5rem;
    margin: 1rem 0;
}

.btn-option {
    padding: 0.75rem;
    background: var(--bg-light);
    color: var(--text-light);
    border: 2px solid var(--border);
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    font-size: 0.85rem;
    transition: all 0.3s;
    text-align: center;
}

.btn-option:hover {
    background: var(--secondary);
    border-color: var(--secondary);
    color: white;
    transform: translateY(-2px);
}

.btn-option.active {
    background: var(--primary);
    border-color: var(--primary);
    color: white;
    box-shadow: 0 0 15px rgba(99, 102, 241, 0.4);
}

/* Coefficient Finder Styles */
.coefficient-finder {
    display: grid;
    grid-template-columns: auto auto auto auto auto;
    gap: 0.5rem;
    align-items: center;
    background: var(--bg-light);
    padding: 1rem;
    border-radius: 10px;
    border: 2px solid var(--border);
}

.coefficient-finder input {
    width: 60px;
    padding: 0.5rem;
    background: var(--bg-darker);
    border: 1px solid var(--border);
    border-radius: 6px;
    color: var(--text-light);
    text-align: center;
    font-size: 1rem;
}

.coefficient-finder input:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.2);
}

.coefficient-finder span {
    color: var(--text-light);
    font-weight: bold;
    font-size: 1.1rem;
    white-space: nowrap;
}

/* Enhanced result display */
.combinatorics-result .formula-step {
    background: var(--bg-darker);
    padding: 0.75rem;
    border-radius: 8px;
    margin: 0.5rem 0;
    border-left: 3px solid var(--primary);
    font-family: 'Courier New', monospace;
}

.combinatorics-result .highlight-result {
    background: linear-gradient(135deg, var(--success), #059669);
    color: white;
    padding: 1rem;
    border-radius: 10px;
    text-align: center;
    margin: 1rem 0;
    font-size: 1.2rem;
    font-weight: bold;
    box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
}

/* Responsive adjustments for new features */
@media (max-width: 768px) {
    .binomial-options {
        grid-template-columns: repeat(2, 1fr);
        gap: 0.4rem;
    }
    
    .btn-option {
        font-size: 0.8rem;
        padding: 0.6rem;
    }
    
    .coefficient-finder {
        grid-template-columns: 1fr;
        gap: 0.75rem;
        text-align: center;
    }
    
    .coefficient-finder input {
        width: 100%;
        max-width: 120px;
        margin: 0 auto;
    }
    
    .coefficient-finder span {
        font-size: 1rem;
    }
}

@media (max-width: 480px) {
    .binomial-options {
        grid-template-columns: 1fr;
    }
    
    .btn-option {
        font-size: 0.75rem;
        padding: 0.5rem;
    }
    
    .coefficient-finder {
        padding: 0.75rem;
    }
    
    .coefficient-finder input {
        font-size: 0.9rem;
        padding: 0.4rem;
    }
}

/* Animation for mode switching */
.input-group {
    transition: all 0.3s ease;
}

.input-group[style*="display: none"] {
    opacity: 0;
    transform: translateY(-10px);
}

.input-group[style*="display: block"] {
    opacity: 1;
    transform: translateY(0);
}
/* Two Variable Coefficient Finder Styles */
.coefficient-tabs {
    display: flex;
    gap: 0.5rem;
    margin-bottom: 1rem;
    background: var(--bg-darker);
    padding: 0.25rem;
    border-radius: 10px;
}

.btn-tab {
    flex: 1;
    padding: 0.75rem;
    background: transparent;
    color: var(--text-muted);
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    font-size: 0.9rem;
    transition: all 0.3s;
}

.btn-tab:hover {
    color: var(--text-light);
    background: var(--bg-light);
}

.btn-tab.active {
    background: var(--primary);
    color: white;
    box-shadow: 0 0 10px rgba(99, 102, 241, 0.3);
}

/* Two Variable Expression Input */
.two-var-finder {
    margin: 1rem 0;
}

.expression-input {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    background: var(--bg-light);
    padding: 1rem;
    border-radius: 10px;
    border: 2px solid var(--border);
    flex-wrap: wrap;
    justify-content: center;
}

.expression-input input {
    width: 70px;
    padding: 0.6rem;
    background: var(--bg-darker);
    border: 1px solid var(--border);
    border-radius: 6px;
    color: var(--text-light);
    text-align: center;
    font-size: 1rem;
    font-weight: 600;
}

.expression-input input:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.2);
}

.expression-input span {
    color: var(--text-light);
    font-weight: bold;
    font-size: 1.1rem;
    white-space: nowrap;
}

/* Power Inputs */
.power-inputs {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
}

.power-input {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.power-input label {
    color: var(--text-light);
    font-weight: 600;
    font-size: 0.9rem;
}

.power-input input {
    padding: 0.75rem;
    background: var(--bg-light);
    border: 2px solid var(--border);
    border-radius: 8px;
    color: var(--text-light);
    font-size: 1rem;
    text-align: center;
}

.power-input input:focus {
    outline: none;
    border-color: var(--secondary);
    box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.2);
}

/* Enhanced highlight result */
.highlight-result {
    background: linear-gradient(135deg, var(--success), #059669);
    color: white;
    padding: 1.5rem;
    border-radius: 12px;
    text-align: center;
    margin: 1.5rem 0;
    font-size: 1.3rem;
    font-weight: bold;
    box-shadow: 0 6px 20px rgba(16, 185, 129, 0.4);
    border: 2px solid rgba(255, 255, 255, 0.2);
}

/* Mode transition animations */
#singleVarMode, #twoVarMode {
    transition: all 0.3s ease;
}

#singleVarMode[style*="display: none"], 
#twoVarMode[style*="display: none"] {
    opacity: 0;
    transform: translateY(-10px);
}

#singleVarMode[style*="display: block"], 
#twoVarMode[style*="display: block"] {
    opacity: 1;
    transform: translateY(0);
}

/* Responsive design for two-variable finder */
@media (max-width: 768px) {
    .expression-input {
        flex-direction: column;
        gap: 0.75rem;
        text-align: center;
    }
    
    .expression-input input {
        width: 80px;
    }
    
    .power-inputs {
        grid-template-columns: 1fr;
        gap: 0.75rem;
    }
    
    .coefficient-tabs {
        flex-direction: column;
    }
    
    .btn-tab {
        text-align: center;
    }
}

@media (max-width: 480px) {
    .expression-input {
        padding: 0.75rem;
    }
    
    .expression-input input {
        width: 60px;
        font-size: 0.9rem;
        padding: 0.5rem;
    }
    
    .expression-input span {
        font-size: 1rem;
    }
    
    .power-input input {
        font-size: 0.9rem;
        padding: 0.6rem;
    }
    
    .highlight-result {
        font-size: 1.1rem;
        padding: 1rem;
    }
}

/* Verification checkmarks */
.verification-check {
    color: var(--success);
    font-weight: bold;
}

.verification-cross {
    color: var(--danger);
    font-weight: bold;
}
/* Examples and Patterns Section */
.examples-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin: 1rem 0;
}

.example-card {
    background: var(--bg-light);
    border: 2px solid var(--border);
    border-radius: 10px;
    padding: 1rem;
    cursor: pointer;
    transition: all 0.3s;
    text-align: center;
}

.example-card:hover {
    background: var(--primary);
    border-color: var(--primary);
    color: white;
    transform: translateY(-3px);
    box-shadow: 0 5px 20px rgba(99, 102, 241, 0.3);
}

.example-card h4 {
    color: var(--text-light);
    margin-bottom: 0.5rem;
    font-size: 1.1rem;
    font-family: 'Courier New', monospace;
}

.example-card:hover h4 {
    color: white;
}

.example-card p {
    color: var(--text-muted);
    margin-bottom: 0.5rem;
    font-weight: 600;
}

.example-card:hover p {
    color: rgba(255, 255, 255, 0.9);
}

.example-card small {
    color: var(--text-muted);
    font-style: italic;
}

.example-card:hover small {
    color: rgba(255, 255, 255, 0.7);
}

.input-guide {
    background: var(--bg-darker);
    border-radius: 10px;
    padding: 1rem;
    margin-top: 1rem;
}

.input-guide h4 {
    color: var(--primary);
    margin-bottom: 0.75rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.input-guide ul {
    list-style: none;
    padding: 0;
    margin: 0;
}

.input-guide li {
    color: var(--text-light);
    margin-bottom: 0.5rem;
    padding-left: 1rem;
    position: relative;
}

.input-guide li::before {
    content: 'â€¢';
    color: var(--secondary);
    font-weight: bold;
    position: absolute;
    left: 0;
}

.input-guide strong {
    color: var(--success);
}

/* Enhanced constant term display */
.constant-term-highlight {
    background: linear-gradient(135deg, var(--warning), #d97706);
    color: white;
    padding: 1.5rem;
    border-radius: 12px;
    text-align: center;
    margin: 1.5rem 0;
    font-size: 1.4rem;
    font-weight: bold;
    box-shadow: 0 6px 20px rgba(245, 158, 11, 0.4);
    border: 2px solid rgba(255, 255, 255, 0.2);
}

/* Responsive design for examples */
@media (max-width: 768px) {
    .examples-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 0.75rem;
    }
    
    .example-card {
        padding: 0.75rem;
    }
    
    .example-card h4 {
        font-size: 1rem;
    }
    
    .input-guide {
        padding: 0.75rem;
    }
    
    .input-guide li {
        font-size: 0.9rem;
        margin-bottom: 0.4rem;
    }
}

@media (max-width: 480px) {
    .examples-grid {
        grid-template-columns: 1fr;
    }
    
    .example-card {
        padding: 0.6rem;
    }
    
    .example-card h4 {
        font-size: 0.95rem;
    }
    
    .constant-term-highlight {
        font-size: 1.2rem;
        padding: 1rem;
    }
}
/* Multinomial Theorem Styles */
.multinomial-options {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: 0.5rem;
    margin: 1rem 0;
}

.multinomial-options .btn-option {
    padding: 0.75rem;
    background: var(--bg-light);
    color: var(--text-light);
    border: 2px solid var(--border);
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    font-size: 0.85rem;
    transition: all 0.3s;
    text-align: center;
}

.multinomial-options .btn-option:hover {
    background: var(--secondary);
    border-color: var(--secondary);
    color: white;
    transform: translateY(-2px);
}

.multinomial-options .btn-option.active {
    background: var(--primary);
    border-color: var(--primary);
    color: white;
    box-shadow: 0 0 15px rgba(99, 102, 241, 0.4);
}

#multinomialTerms {
    width: 100%;
    padding: 0.75rem;
    background: var(--bg-light);
    border: 2px solid var(--border);
    border-radius: 8px;
    color: var(--text-light);
    font-size: 1rem;
}

#multinomialTerms:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2);
}

#multinomialExpression {
    width: 100%;
    padding: 0.875rem;
    background: var(--bg-light);
    border: 2px solid var(--border);
    border-radius: 10px;
    color: var(--text-light);
    font-size: 1rem;
    font-family: 'Courier New', monospace;
}

#multinomialExpression:focus {
    outline: none;
    border-color: var(--secondary);
    box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.2);
}

#multinomialPowersInput {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 0.75rem;
    margin: 0.75rem 0;
}

#multinomialPowersInput input {
    padding: 0.75rem;
    background: var(--bg-light);
    border: 2px solid var(--border);
    border-radius: 8px;
    color: var(--text-light);
    font-size: 1rem;
    text-align: center;
}

#multinomialPowersInput input:focus {
    outline: none;
    border-color: var(--warning);
    box-shadow: 0 0 0 3px rgba(245, 158, 11, 0.2);
}

#multinomialCoeffGroup {
    transition: all 0.3s ease;
}

#multinomialCoeffGroup[style*="display: none"] {
    opacity: 0;
    transform: translateY(-10px);
}

#multinomialCoeffGroup[style*="display: block"] {
    opacity: 1;
    transform: translateY(0);
}

/* Enhanced multinomial result display */
.multinomial-expansion {
    background: var(--bg-darker);
    border-radius: 10px;
    padding: 1rem;
    margin: 1rem 0;
    max-height: 300px;
    overflow-y: auto;
    font-family: 'Courier New', monospace;
    line-height: 1.6;
    border-left: 4px solid var(--secondary);
}

.multinomial-formula {
    background: var(--bg-light);
    border-radius: 8px;
    padding: 1rem;
    margin: 1rem 0;
    border-left: 3px solid var(--primary);
    font-family: 'Courier New', monospace;
}

.partition-display {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 0.75rem;
    margin: 1rem 0;
}

.partition-item {
    background: var(--bg-light);
    padding: 0.75rem;
    border-radius: 8px;
    text-align: center;
    border: 1px solid var(--border);
}

.partition-item:hover {
    background: var(--secondary);
    color: white;
    transform: translateY(-2px);
    transition: all 0.3s;
}

/* Multinomial coefficient highlight */
.multinomial-coeff-highlight {
    background: linear-gradient(135deg, var(--secondary), #7c3aed);
    color: white;
    padding: 1.5rem;
    border-radius: 12px;
    text-align: center;
    margin: 1.5rem 0;
    font-size: 1.3rem;
    font-weight: bold;
    box-shadow: 0 6px 20px rgba(139, 92, 246, 0.4);
    border: 2px solid rgba(255, 255, 255, 0.2);
}

/* Responsive design for multinomial */
@media (max-width: 768px) {
    .multinomial-options {
        grid-template-columns: 1fr;
        gap: 0.4rem;
    }
    
    .multinomial-options .btn-option {
        font-size: 0.8rem;
        padding: 0.6rem;
    }
    
    #multinomialPowersInput {
        grid-template-columns: 1fr;
        gap: 0.5rem;
    }
    
    #multinomialPowersInput input {
        font-size: 0.9rem;
        padding: 0.6rem;
    }
    
    .partition-display {
        grid-template-columns: 1fr;
    }
}

@media (max-width: 480px) {
    .multinomial-options .btn-option {
        font-size: 0.75rem;
        padding: 0.5rem;
    }
    
    #multinomialExpression {
        font-size: 0.9rem;
        padding: 0.7rem;
    }
    
    .multinomial-coeff-highlight {
        font-size: 1.1rem;
        padding: 1rem;
    }
    
    .multinomial-expansion {
        font-size: 0.85rem;
        padding: 0.75rem;
    }
}

/* Scrollbar for multinomial expansion */
.multinomial-expansion::-webkit-scrollbar {
    width: 6px;
}

.multinomial-expansion::-webkit-scrollbar-track {
    background: var(--bg-darker);
}

.multinomial-expansion::-webkit-scrollbar-thumb {
    background: var(--secondary);
    border-radius: 3px;
}

.multinomial-expansion::-webkit-scrollbar-thumb:hover {
    background: #7c3aed;
}
/* Matrix Mode Styles */
.matrix-mode {
    margin-top: 1rem;
}

.matrix-section {
    background: var(--bg-darker);
    border-radius: 15px;
    padding: 1.5rem;
    margin-bottom: 1.5rem;
}

.matrix-section h3 {
    color: var(--text-light);
    margin-bottom: 1rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.matrix-section h3 i {
    color: var(--primary);
}

.matrix-section h4 {
    color: var(--text-light);
    margin-bottom: 0.75rem;
    font-size: 1rem;
}

/* Matrix Input Controls */
.matrix-input-controls {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

.matrix-size-controls {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
}

.size-input {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.size-input label {
    color: var(--text-light);
    font-weight: 600;
    font-size: 0.9rem;
}

.size-input select {
    padding: 0.75rem;
    background: var(--bg-light);
    border: 2px solid var(--border);
    border-radius: 8px;
    color: var(--text-light);
    font-size: 1rem;
}

.size-input select:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2);
}

/* Matrix Input Grids */
.matrix-inputs-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
}

.matrix-input-group {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.matrix-grid {
    display: grid;
    gap: 0.5rem;
    background: var(--bg-light);
    padding: 1rem;
    border-radius: 10px;
    border: 2px solid var(--border);
}

.matrix-cell {
    width: 60px;
    height: 40px;
    padding: 0.5rem;
    background: var(--bg-darker);
    border: 1px solid var(--border);
    border-radius: 6px;
    color: var(--text-light);
    text-align: center;
    font-size: 0.9rem;
    font-weight: 600;
}

.matrix-cell:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.2);
}

.matrix-actions {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
}

.btn-matrix-action {
    flex: 1;
    min-width: 70px;
    padding: 0.5rem;
    background: var(--bg-light);
    color: var(--text-light);
    border: 1px solid var(--border);
    border-radius: 6px;
    cursor: pointer;
    font-size: 0.85rem;
    font-weight: 600;
    transition: all 0.3s;
}

.btn-matrix-action:hover {
    background: var(--secondary);
    border-color: var(--secondary);
    color: white;
    transform: translateY(-1px);
}

/* Matrix Operations */
.matrix-operations {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

.operation-group {
    background: var(--bg-light);
    padding: 1rem;
    border-radius: 10px;
    border-left: 4px solid var(--primary);
}

.operation-buttons {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: 0.75rem;
    margin-top: 1rem;
}

.btn-matrix-op {
    padding: 0.875rem;
    background: var(--primary);
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 0.9rem;
    font-weight: 600;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    transition: all 0.3s;
}

.btn-matrix-op:hover {
    background: var(--primary-dark);
    transform: translateY(-2px);
    box-shadow: 0 4px 15px rgba(99, 102, 241, 0.3);
}

.scalar-input {
    margin-top: 1rem;
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.scalar-input label {
    color: var(--text-light);
    font-weight: 600;
    font-size: 0.9rem;
}

.scalar-input input {
    width: 120px;
    padding: 0.5rem;
    background: var(--bg-darker);
    border: 2px solid var(--border);
    border-radius: 6px;
    color: var(--text-light);
    font-size: 0.9rem;
    text-align: center;
}

.scalar-input input:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.2);
}

/* Linear Equations */
.linear-equations {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

.equation-method-selector {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.equation-method-selector label {
    color: var(--text-light);
    font-weight: 600;
    font-size: 0.9rem;
}

.equation-method-selector select {
    padding: 0.75rem;
    background: var(--bg-light);
    border: 2px solid var(--border);
    border-radius: 8px;
    color: var(--text-light);
    font-size: 1rem;
    min-width: 200px;
}

.equation-method-selector select:focus {
    outline: none;
    border-color: var(--success);
    box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.2);
}

.equation-input {
    background: var(--bg-light);
    padding: 1.5rem;
    border-radius: 10px;
    border-left: 4px solid var(--success);
}

.equation-description {
    margin-bottom: 1rem;
}

.equation-description p {
    color: var(--text-light);
    font-size: 1.1rem;
    font-weight: 600;
    margin-bottom: 0.5rem;
}

.equation-description small {
    color: var(--text-muted);
    font-style: italic;
}

.equation-matrices {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 2rem;
    margin: 1.5rem 0;
}

.coefficient-matrix, .constants-vector {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.matrix-size-control {
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.matrix-size-control label {
    color: var(--text-light);
    font-weight: 600;
    font-size: 0.9rem;
}

.matrix-size-control select {
    padding: 0.5rem;
    background: var(--bg-darker);
    border: 2px solid var(--border);
    border-radius: 6px;
    color: var(--text-light);
    font-size: 0.9rem;
}

.vector-grid {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    background: var(--bg-darker);
    padding: 1rem;
    border-radius: 8px;
    border: 2px solid var(--border);
}

.vector-cell {
    width: 80px;
    height: 40px;
    padding: 0.5rem;
    background: var(--bg-light);
    border: 1px solid var(--border);
    border-radius: 6px;
    color: var(--text-light);
    text-align: center;
    font-size: 0.9rem;
    font-weight: 600;
}

.vector-cell:focus {
    outline: none;
    border-color: var(--success);
    box-shadow: 0 0 0 2px rgba(16, 185, 129, 0.2);
}

.btn-solve-system {
    padding: 1rem 2rem;
    background: var(--success);
    color: white;
    border: none;
    border-radius: 10px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    transition: all 0.3s;
    align-self: center;
}

.btn-solve-system:hover {
    background: #059669;
    transform: translateY(-2px);
    box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
}

/* Matrix Result Display */
.matrix-result {
    background: var(--bg-light);
    border-left: 4px solid var(--primary);
    border-radius: 8px;
    padding: 1.5rem;
    color: var(--text-light);
    min-height: 100px;
    line-height: 1.6;
}

.matrix-result:empty::before {
    content: 'Results will appear here...';
    color: var(--text-muted);
    font-style: italic;
}

.no-result {
    color: var(--text-muted);
    font-style: italic;
    text-align: center;
    margin: 0;
}

.matrix-display {
    margin: 1rem 0;
    display: flex;
    justify-content: center;
}

.matrix-table {
    border-collapse: collapse;
    background: var(--bg-darker);
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
}

.matrix-table td {
    padding: 0.75rem 1rem;
    text-align: center;
    border: 1px solid var(--border);
    color: var(--text-light);
    font-weight: 600;
    font-family: 'Courier New', monospace;
    min-width: 60px;
}

.matrix-table td:first-child {
    border-left: 3px solid var(--primary);
}

.matrix-table td:last-child {
    border-right: 3px solid var(--primary);
}

.matrix-table tr:first-child td {
    border-top: 3px solid var(--primary);
}

.matrix-table tr:last-child td {
    border-bottom: 3px solid var(--primary);
}

.vector-display {
    background: var(--bg-darker);
    border-radius: 8px;
    padding: 1rem;
    text-align: center;
    font-family: 'Courier New', monospace;
    font-weight: 600;
    border-left: 3px solid var(--success);
    border-right: 3px solid var(--success);
}

/* Matrix Examples */
.matrix-examples {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 1rem;
}

.matrix-examples .example-card {
    background: var(--bg-light);
    border: 2px solid var(--border);
    border-radius: 10px;
    padding: 1rem;
    cursor: pointer;
    transition: all 0.3s;
    text-align: center;
}

.matrix-examples .example-card:hover {
    background: var(--success);
    border-color: var(--success);
    color: white;
    transform: translateY(-3px);
    box-shadow: 0 5px 20px rgba(16, 185, 129, 0.3);
}

.matrix-examples .example-card h4 {
    color: var(--text-light);
    margin-bottom: 0.5rem;
    font-size: 1rem;
}

.matrix-examples .example-card:hover h4 {
    color: white;
}

.matrix-examples .example-card p {
    color: var(--text-muted);
    margin-bottom: 0.5rem;
    font-weight: 600;
    font-size: 0.9rem;
}

.matrix-examples .example-card:hover p {
    color: rgba(255, 255, 255, 0.9);
}

.matrix-examples .example-card small {
    color: var(--text-muted);
    font-style: italic;
    font-size: 0.8rem;
}

.matrix-examples .example-card:hover small {
    color: rgba(255, 255, 255, 0.7);
}

/* Enhanced result highlighting */
.matrix-result .highlight-result {
    background: linear-gradient(135deg, var(--success), #059669);
    color: white;
    padding: 1.5rem;
    border-radius: 12px;
    text-align: center;
    margin: 1.5rem 0;
    font-size: 1.2rem;
    font-weight: bold;
    box-shadow: 0 6px 20px rgba(16, 185, 129, 0.4);
    border: 2px solid rgba(255, 255, 255, 0.2);
}

/* Responsive Design for Matrix Mode */
@media (max-width: 768px) {
    .matrix-size-controls {
        grid-template-columns: 1fr;
    }
    
    .matrix-inputs-container {
        grid-template-columns: 1fr;
        gap: 1.5rem;
    }
    
    .operation-buttons {
        grid-template-columns: repeat(2, 1fr);
        gap: 0.5rem;
    }
    
    .btn-matrix-op {
        font-size: 0.8rem;
        padding: 0.75rem;
    }
    
    .equation-matrices {
        grid-template-columns: 1fr;
        gap: 1.5rem;
    }
    
    .matrix-examples {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .matrix-cell {
        width: 50px;
        height: 35px;
        font-size: 0.8rem;
    }
    
    .vector-cell {
        width: 70px;
        height: 35px;
        font-size: 0.8rem;
    }
    
    .scalar-input {
        flex-direction: column;
        align-items: flex-start;
        gap: 0.5rem;
    }
    
    .equation-method-selector {
        flex-direction: column;
        align-items: flex-start;
        gap: 0.5rem;
    }
    
    .equation-method-selector select {
        min-width: 100%;
    }
}

@media (max-width: 480px) {
    .matrix-section {
        padding: 1rem;
    }
    
    .operation-buttons {
        grid-template-columns: 1fr;
    }
    
    .btn-matrix-op {
        font-size: 0.75rem;
        padding: 0.6rem;
    }
    
    .matrix-examples {
        grid-template-columns: 1fr;
    }
    
    .matrix-cell {
        width: 45px;
        height: 32px;
        font-size: 0.75rem;
        padding: 0.25rem;
    }
    
    .vector-cell {
        width: 60px;
        height: 32px;
        font-size: 0.75rem;
        padding: 0.25rem;
    }
    
    .matrix-table td {
        padding: 0.5rem;
        font-size: 0.85rem;
        min-width: 45px;
    }
    
    .btn-solve-system {
        padding: 0.875rem 1.5rem;
        font-size: 0.9rem;
    }
    
    .highlight-result {
        font-size: 1rem;
        padding: 1rem;
    }
}

/* Matrix grid animations */
.matrix-grid {
    transition: all 0.3s ease;
}

.matrix-cell, .vector-cell {
    transition: all 0.2s ease;
}

.matrix-cell:hover, .vector-cell:hover {
    transform: scale(1.05);
    box-shadow: 0 2px 8px rgba(99, 102, 241, 0.3);
}

/* Loading animation for complex calculations */
@keyframes matrixCalculating {
    0% { opacity: 0.5; }
    50% { opacity: 1; }
    100% { opacity: 0.5; }
}

.calculating {
    animation: matrixCalculating 1s infinite;
}

/* Special styling for determinant zero warning */
.singular-warning {
    background: linear-gradient(135deg, var(--warning), #d97706);
    color: white;
    padding: 1rem;
    border-radius: 8px;
    margin: 1rem 0;
    text-align: center;
    font-weight: bold;
}

/* Eigenvalue display styling */
.eigenvalue-list {
    background: var(--bg-darker);
    border-radius: 8px;
    padding: 1rem;
    margin: 1rem 0;
    font-family: 'Courier New', monospace;
}

.eigenvalue-item {
    padding: 0.5rem;
    border-bottom: 1px solid var(--border);
    color: var(--text-light);
}

.eigenvalue-item:last-child {
    border-bottom: none;
}

.complex-eigenvalue {
    color: var(--secondary);
}

.real-eigenvalue {
    color: var(--success);
}
/* Determinant Equations Styles */
.determinant-equations {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

.det-equation-selector {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.det-equation-selector label {
    color: var(--text-light);
    font-weight: 600;
    font-size: 0.9rem;
}

.det-equation-selector select {
    padding: 0.75rem;
    background: var(--bg-light);
    border: 2px solid var(--border);
    border-radius: 8px;
    color: var(--text-light);
    font-size: 1rem;
    min-width: 250px;
}

.det-equation-selector select:focus {
    outline: none;
    border-color: var(--warning);
    box-shadow: 0 0 0 3px rgba(245, 158, 11, 0.2);
}

.det-equation-input {
    background: var(--bg-light);
    padding: 1.5rem;
    border-radius: 10px;
    border-left: 4px solid var(--warning);
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

.det-matrix-input {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.det-size-control {
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.det-size-control label {
    color: var(--text-light);
    font-weight: 600;
    font-size: 0.9rem;
}

.det-size-control select {
    padding: 0.5rem;
    background: var(--bg-darker);
    border: 2px solid var(--border);
    border-radius: 6px;
    color: var(--text-light);
    font-size: 0.9rem;
}

.parameter-input {
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.parameter-input label {
    color: var(--text-light);
    font-weight: 600;
    font-size: 0.9rem;
}

.parameter-input input {
    width: 100px;
    padding: 0.5rem;
    background: var(--bg-darker);
    border: 2px solid var(--border);
    border-radius: 6px;
    color: var(--text-light);
    font-size: 0.9rem;
    text-align: center;
}

.parameter-input input:focus {
    outline: none;
    border-color: var(--warning);
    box-shadow: 0 0 0 2px rgba(245, 158, 11, 0.2);
}

.btn-solve-det {
    padding: 1rem 2rem;
    background: var(--warning);
    color: white;
    border: none;
    border-radius: 10px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    transition: all 0.3s;
    align-self: center;
}

.btn-solve-det:hover {
    background: #d97706;
    transform: translateY(-2px);
    box-shadow: 0 4px 15px rgba(245, 158, 11, 0.3);
}

/* Results Container */
.results-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1.5rem;
    margin-top: 2rem;
}

/* Eigenvalue/Eigenvector Display Styles */
.eigenvector-item {
    background: var(--bg-darker);
    padding: 1rem;
    border-radius: 8px;
    margin: 1rem 0;
    border-left: 3px solid var(--secondary);
}

.eigen-system-display {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    margin: 1rem 0;
}

.eigen-pair {
    background: var(--bg-darker);
    padding: 1.5rem;
    border-radius: 10px;
    border-left: 4px solid var(--secondary);
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    gap: 1rem;
    align-items: center;
}

.eigenvalue-box {
    text-align: center;
    padding: 1rem;
    border-radius: 8px;
    font-weight: bold;
}

.eigenvalue-box.real {
    background: linear-gradient(135deg, var(--success), #059669);
    color: white;
}

.eigenvalue-box.complex {
    background: linear-gradient(135deg, var(--secondary), #7c3aed);
    color: white;
}

.eigenvector-box {
    text-align: center;
}

.verification {
    text-align: center;
    color: var(--text-muted);
    font-style: italic;
}

.eigen-properties {
    background: var(--bg-darker);
    padding: 1rem;
    border-radius: 8px;
    border-left: 3px solid var(--primary);
    margin-top: 1rem;
}

/* Characteristic Equation Styles */
.characteristic-polynomial {
    background: var(--bg-darker);
    padding: 1rem;
    border-radius: 8px;
    font-family: 'Courier New', monospace;
    margin: 1rem 0;
    border-left: 3px solid var(--warning);
}

.polynomial-step {
    margin: 0.5rem 0;
    padding: 0.5rem;
    background: var(--bg-light);
    border-radius: 6px;
}

/* Null Space Display */
.null-space-vectors {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: 1rem;
    margin: 1rem 0;
}

.null-vector {
    background: var(--bg-darker);
    padding: 1rem;
    border-radius: 8px;
    text-align: center;
    border: 2px solid var(--success);
}

/* Enhanced Vector Display */
.vector-display {
    background: var(--bg-darker);
    border-radius: 8px;
    padding: 1rem;
    text-align: center;
    font-family: 'Courier New', monospace;
    font-weight: 600;
    border-left: 3px solid var(--success);
    border-right: 3px solid var(--success);
    margin: 0.5rem 0;
}

/* Discriminant Display */
.discriminant-info {
    background: var(--bg-light);
    padding: 1rem;
    border-radius: 8px;
    margin: 1rem 0;
    text-align: center;
}

.discriminant-positive {
    border-left: 4px solid var(--success);
}

.discriminant-negative {
    border-left: 4px solid var(--secondary);
}

.discriminant-zero {
    border-left: 4px solid var(--warning);
}

/* Solution Steps */
.solution-steps {
    background: var(--bg-darker);
    padding: 1rem;
    border-radius: 8px;
    margin: 1rem 0;
}

.solution-step {
    padding: 0.5rem;
    margin: 0.5rem 0;
    border-left: 2px solid var(--primary);
    padding-left: 1rem;
}

/* Responsive Design for New Features */
@media (max-width: 768px) {
    .results-container {
        grid-template-columns: 1fr;
        gap: 1rem;
    }
    
    .eigen-pair {
        grid-template-columns: 1fr;
        gap: 1rem;
        text-align: center;
    }
    
    .det-equation-selector {
        flex-direction: column;
        align-items: flex-start;
        gap: 0.5rem;
    }
    
    .det-equation-selector select {
        min-width: 100%;
    }
    
    .parameter-input {
        flex-direction: column;
        align-items: flex-start;
        gap: 0.5rem;
    }
    
    .parameter-input input {
        width: 100%;
        max-width: 150px;
    }
    
    .null-space-vectors {
        grid-template-columns: 1fr;
    }
}

@media (max-width: 480px) {
    .det-equation-input {
        padding: 1rem;
    }
    
    .eigen-system-display {
        gap: 1rem;
    }
    
    .eigen-pair {
        padding: 1rem;
    }
    
    .eigenvalue-box {
        padding: 0.75rem;
        font-size: 0.9rem;
    }
    
    .btn-solve-det {
        padding: 0.875rem 1.5rem;
        font-size: 0.9rem;
    }
}

/* Animation for eigenvalue calculations */
@keyframes eigenCalculating {
    0% { transform: scale(1); }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); }
}

.calculating-eigen {
    animation: eigenCalculating 1s infinite;
}

/* Special highlighting for important results */
.critical-result {
    background: linear-gradient(135deg, var(--danger), #dc2626);
    color: white;
    padding: 1rem;
    border-radius: 8px;
    text-align: center;
    font-weight: bold;
    margin: 1rem 0;
}

.success-result {
    background: linear-gradient(135deg, var(--success), #059669);
    color: white;
    padding: 1rem;
    border-radius: 8px;
    text-align: center;
    font-weight: bold;
    margin: 1rem 0;
}

.warning-result {
    background: linear-gradient(135deg, var(--warning), #d97706);
    color: white;
    padding: 1rem;
    border-radius: 8px;
    text-align: center;
    font-weight: bold;
    margin: 1rem 0;
}
/* GPA Calculator Styles */
.gpa-mode {
    margin-top: 1rem;
}

.gpa-section {
    background: var(--bg-darker);
    border-radius: 15px;
    padding: 1.5rem;
    margin-bottom: 1.5rem;
}

.gpa-section h3 {
    color: var(--text-light);
    margin-bottom: 1rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.gpa-section h3 i {
    color: var(--primary);
}

.gpa-description {
    margin-bottom: 1.5rem;
    text-align: center;
}

.gpa-description p {
    color: var(--text-light);
    font-size: 1.1rem;
    font-weight: 600;
    margin-bottom: 0.5rem;
}

.gpa-description small {
    color: var(--text-muted);
    font-style: italic;
}

/* GPA Settings */
.gpa-settings {
    display: grid;
    grid-template-columns: 2fr 1fr 1fr;
    gap: 1rem;
    margin-bottom: 1.5rem;
    background: var(--bg-light);
    padding: 1rem;
    border-radius: 10px;
}

.gpa-scale-selector, .active-courses, .input-mode-selector {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.gpa-scale-selector label, .active-courses label, .input-mode-selector label {
    color: var(--text-light);
    font-weight: 600;
    font-size: 0.9rem;
}

.gpa-scale-selector select, .active-courses select, .input-mode-selector select {
    padding: 0.75rem;
    background: var(--bg-darker);
    border: 2px solid var(--border);
    border-radius: 8px;
    color: var(--text-light);
    font-size: 0.9rem;
}

.gpa-scale-selector select:focus, .active-courses select:focus, .input-mode-selector select:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2);
}

/* Course Inputs */
.courses-container {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.course-input {
    background: var(--bg-light);
    border-radius: 10px;
    padding: 1rem;
    border-left: 4px solid var(--success);
}

.course-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
}

.course-header h4 {
    color: var(--text-light);
    margin: 0;
    font-size: 1rem;
}

.btn-remove-course {
    background: var(--danger);
    color: white;
    border: none;
    border-radius: 50%;
    width: 30px;
    height: 30px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.8rem;
    transition: all 0.3s;
}

.btn-remove-course:hover {
    background: #dc2626;
    transform: scale(1.1);
}

.course-fields {
    display: grid;
    grid-template-columns: 2fr 1fr 1fr 1fr 1fr;
    gap: 1rem;
    align-items: end;
}

.field-group {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.field-group label {
    color: var(--text-light);
    font-weight: 600;
    font-size: 0.85rem;
}

.course-name-input, .credits-input, .grade-select, .percentage-input {
    padding: 0.75rem;
    background: var(--bg-darker);
    border: 2px solid var(--border);
    border-radius: 6px;
    color: var(--text-light);
    font-size: 0.9rem;
}

.course-name-input:focus, .credits-input:focus, .grade-select:focus, .percentage-input:focus {
    outline: none;
    border-color: var(--success);
    box-shadow: 0 0 0 2px rgba(16, 185, 129, 0.2);
}

/* Auto Grade Display */
.auto-grade-display {
    text-align: center;
}

.auto-grade-value {
    padding: 0.75rem;
    background: var(--bg-darker);
    border: 2px solid var(--border);
    border-radius: 6px;
    color: var(--text-light);
    font-size: 0.9rem;
    font-weight: bold;
    text-align: center;
    min-height: 45px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.auto-grade-value.grade-aplus { color: #059669; border-color: #059669; }
.auto-grade-value.grade-a { color: #10b981; border-color: #10b981; }
.auto-grade-value.grade-aminus { color: #34d399; border-color: #34d399; }
.auto-grade-value.grade-bplus { color: #2563eb; border-color: #2563eb; }
.auto-grade-value.grade-b { color: #3b82f6; border-color: #3b82f6; }
.auto-grade-value.grade-bminus { color: #60a5fa; border-color: #60a5fa; }
.auto-grade-value.grade-cplus { color: #d97706; border-color: #d97706; }
.auto-grade-value.grade-c { color: #f59e0b; border-color: #f59e0b; }
.auto-grade-value.grade-cminus { color: #fbbf24; border-color: #fbbf24; }
.auto-grade-value.grade-d { color: #ef4444; border-color: #ef4444; }
.auto-grade-value.grade-f { color: #6b7280; border-color: #6b7280; }

/* GPA Actions */
.gpa-actions {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
}

.btn-calculate-gpa, .btn-clear-gpa, .btn-sample-gpa {
    padding: 1rem 1.5rem;
    border: none;
    border-radius: 10px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    transition: all 0.3s;
}

.btn-calculate-gpa {
    background: var(--success);
    color: white;
}

.btn-calculate-gpa:hover {
    background: #059669;
    transform: translateY(-2px);
    box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
}

.btn-clear-gpa {
    background: var(--danger);
    color: white;
}

.btn-clear-gpa:hover {
    background: #dc2626;
    transform: translateY(-2px);
    box-shadow: 0 4px 15px rgba(239, 68, 68, 0.3);
}

.btn-sample-gpa {
    background: var(--secondary);
    color: white;
}

.btn-sample-gpa:hover {
    background: #7c3aed;
    transform: translateY(-2px);
    box-shadow: 0 4px 15px rgba(139, 92, 246, 0.3);
}

/* GPA Analysis */
.gpa-analysis-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
}

.gpa-summary {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.gpa-card {
    background: var(--bg-light);
    padding: 1.5rem;
    border-radius: 10px;
    text-align: center;
    border-left: 4px solid var(--primary);
}

.gpa-card h4 {
    color: var(--text-light);
    margin: 0 0 0.5rem 0;
    font-size: 0.9rem;
    font-weight: 600;
}

.gpa-value {
    font-size: 2rem;
    font-weight: bold;
    color: var(--primary);
    margin: 0.5rem 0;
}

.gpa-card small {
    color: var(--text-muted);
    font-size: 0.8rem;
}

/* Grade Chart */
.grade-chart {
    background: var(--bg-light);
    padding: 1rem;
    border-radius: 10px;
}

.grade-bar {
    display: grid;
    grid-template-columns: 30px 1fr 80px;
    gap: 0.75rem;
    align-items: center;
    margin-bottom: 0.75rem;
}

.grade-label {
    font-weight: bold;
    color: var(--text-light);
    text-align: center;
}

.grade-bar-container {
    background: var(--bg-darker);
    height: 20px;
    border-radius: 10px;
    overflow: hidden;
}

.grade-bar-fill {
    height: 100%;
    border-radius: 10px;
    transition: width 0.5s ease;
}

.grade-count {
    font-size: 0.8rem;
    color: var(--text-muted);
    text-align: right;
}

/* Course Breakdown */
.course-breakdown-list {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.course-breakdown-item {
    background: var(--bg-darker);
    padding: 1rem;
    border-radius: 8px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-left: 3px solid var(--success);
}

.course-info {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
}

.course-info strong {
    color: var(--text-light);
    font-size: 0.95rem;
}

.course-details {
    color: var(--text-muted);
    font-size: 0.8rem;
}

.quality-points {
    color: var(--success);
    font-weight: bold;
    font-size: 0.9rem;
}

/* Cumulative GPA */
.cumulative-gpa {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

.cumulative-inputs {
    background: var(--bg-light);
    padding: 1.5rem;
    border-radius: 10px;
    border-left: 4px solid var(--warning);
    display: grid;
    grid-template-columns: 1fr 1fr auto;
    gap: 1rem;
    align-items: end;
}

.input-group {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.input-group label {
    color: var(--text-light);
    font-weight: 600;
    font-size: 0.9rem;
}

.input-group input {
    padding: 0.75rem;
    background: var(--bg-darker);
    border: 2px solid var(--border);
    border-radius: 6px;
    color: var(--text-light);
    font-size: 0.9rem;
}

.input-group input:focus {
    outline: none;
    border-color: var(--warning);
    box-shadow: 0 0 0 2px rgba(245, 158, 11, 0.2);
}

.btn-calculate-cumulative, .btn-calculate-goal {
    padding: 0.875rem 1.25rem;
    background: var(--warning);
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 0.9rem;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    transition: all 0.3s;
    white-space: nowrap;
}

.btn-calculate-cumulative:hover, .btn-calculate-goal:hover {
    background: #d97706;
    transform: translateY(-2px);
    box-shadow: 0 4px 15px rgba(245, 158, 11, 0.3);
}

/* Cumulative Result Display */
.cumulative-display {
    background: var(--bg-light);
    padding: 1.5rem;
    border-radius: 10px;
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 2rem;
    align-items: center;
}

.cumulative-summary h4 {
    color: var(--text-light);
    margin-bottom: 1rem;
}

.calculation-breakdown {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.calc-row {
    color: var(--text-muted);
    font-size: 0.9rem;
    padding: 0.25rem 0;
}

.calc-row.total {
    color: var(--text-light);
    font-weight: bold;
    border-top: 1px solid var(--border);
    padding-top: 0.5rem;
    margin-top: 0.5rem;
}

.cumulative-result-display {
    text-align: center;
}

.cumulative-gpa-value {
    font-size: 2.5rem;
    font-weight: bold;
    color: var(--warning);
    margin-bottom: 0.5rem;
}

.cumulative-label {
    color: var(--text-light);
    font-weight: 600;
    margin-bottom: 0.5rem;
}

.cumulative-details {
    color: var(--text-muted);
    font-size: 0.8rem;
    line-height: 1.4;
}

/* GPA Goals */
.gpa-goals {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

.goal-inputs {
    background: var(--bg-light);
    padding: 1.5rem;
    border-radius: 10px;
    border-left: 4px solid var(--secondary);
    display: grid;
    grid-template-columns: 1fr 1fr auto;
    gap: 1rem;
    align-items: end;
}

.goal-display {
    background: var(--bg-light);
    padding: 1.5rem;
    border-radius: 10px;
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 2rem;
    align-items: center;
}

.goal-calculation h4 {
    color: var(--text-light);
    margin-bottom: 1rem;
}

.goal-breakdown {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
}

.goal-row {
    color: var(--text-light);
    font-weight: bold;
    margin-top: 0.5rem;
}

.goal-detail {
    color: var(--text-muted);
    font-size: 0.9rem;
    margin-left: 1rem;
}

.goal-result-display {
    text-align: center;
}

.goal-gpa-value {
    font-size: 2.5rem;
    font-weight: bold;
    margin-bottom: 0.5rem;
}

.goal-gpa-value.easy {
    color: var(--success);
}

.goal-gpa-value.moderate {
    color: var(--warning);
}

.goal-gpa-value.hard {
    color: #f59e0b;
}

.goal-gpa-value.very-hard {
    color: var(--danger);
}

.goal-gpa-value.impossible {
    color: #6b7280;
}

.goal-gpa-value.achieved {
    color: var(--success);
    font-size: 2rem;
}

.goal-label {
    color: var(--text-light);
    font-weight: 600;
    margin-bottom: 0.5rem;
}

.goal-status {
    font-weight: bold;
    margin-bottom: 1rem;
}

.goal-status.easy {
    color: var(--success);
}

.goal-status.moderate {
    color: var(--warning);
}

.goal-status.hard, .goal-status.very-hard {
    color: var(--danger);
}

.goal-status.impossible {
    color: #6b7280;
}

.goal-status.achieved {
    color: var(--success);
}

.goal-advice {
    color: var(--text-muted);
    font-size: 0.85rem;
    line-height: 1.4;
    font-style: italic;
}

/* Grade Scale Reference */
.grade-scale-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
    gap: 0.5rem;
    margin-top: 1rem;
}

.scale-item {
    background: var(--bg-light);
    padding: 0.75rem;
    border-radius: 6px;
    text-align: center;
    color: var(--text-light);
    font-weight: 600;
    font-size: 0.9rem;
    border: 1px solid var(--border);
}

/* GPA Tips */
.gpa-tips {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
}

.gpa-tips-content h4 {
    color: var(--text-light);
    margin-bottom: 1rem;
}

.gpa-tips-content ul {
    list-style: none;
    padding: 0;
    margin: 0;
}

.gpa-tips-content li {
    color: var(--text-light);
    margin-bottom: 1rem;
    padding-left: 1rem;
    position: relative;
    line-height: 1.5;
}

.gpa-tips-content li::before {
    content: 'ðŸ’¡';
    position: absolute;
    left: 0;
    top: 0;
}

.gpa-tips-content strong {
    color: var(--primary);
}

/* Responsive Design for GPA Calculator */
@media (max-width: 768px) {
    .gpa-settings {
        grid-template-columns: 1fr;
    }
    
    .course-fields {
        grid-template-columns: 1fr;
        gap: 0.75rem;
    }
    
    .gpa-analysis-container {
        grid-template-columns: 1fr;
        gap: 1.5rem;
    }
    
    .cumulative-inputs, .goal-inputs {
        grid-template-columns: 1fr;
        gap: 1rem;
    }
    
    .cumulative-display, .goal-display {
        grid-template-columns: 1fr;
        gap: 1.5rem;
        text-align: center;
    }
    
    .gpa-tips {
        grid-template-columns: 1fr;
    }
    
    .gpa-actions {
        flex-direction: column;
        align-items: center;
    }
    
    .btn-calculate-gpa, .btn-clear-gpa, .btn-sample-gpa {
        width: 100%;
        max-width: 250px;
        justify-content: center;
    }
}

@media (max-width: 480px) {
    .gpa-section {
        padding: 1rem;
    }
    
    .course-input {
        padding: 0.75rem;
    }
    
    .course-header h4 {
        font-size: 0.9rem;
    }
    
    .btn-remove-course {
        width: 25px;
        height: 25px;
        font-size: 0.7rem;
    }
    
    .gpa-card {
        padding: 1rem;
    }
    
    .gpa-value {
        font-size: 1.5rem;
    }
    
    .cumulative-gpa-value, .goal-gpa-value {
        font-size: 2rem;
    }
    
    .grade-scale-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

/* Animation for GPA calculations */
@keyframes gpaCalculating {
    0% { transform: scale(1); }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); }
}

.calculating-gpa {
    animation: gpaCalculating 1s infinite;
}

/* No result state */
.no-result {
    color: var(--text-muted);
    font-style: italic;
    text-align: center;
    margin: 0;
    padding: 2rem;
}
/* Enhanced Grade Scale Reference */
.percentage-guide {
    margin-top: 1.5rem;
    background: var(--bg-darker);
    padding: 1rem;
    border-radius: 8px;
    border-left: 4px solid var(--primary);
}

.percentage-guide h4 {
    color: var(--text-light);
    margin-bottom: 1rem;
}

.conversion-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: 0.5rem;
}

.conversion-item {
    background: var(--bg-light);
    padding: 0.5rem;
    border-radius: 6px;
    text-align: center;
    color: var(--text-light);
    font-weight: 600;
    font-size: 0.85rem;
    border: 1px solid var(--border);
}

/* Grade-specific colors for scale items */
.scale-item.grade-a-plus, .scale-item.grade-aplus { background: linear-gradient(135deg, #059669, #10b981); color: white; }
.scale-item.grade-a { background: linear-gradient(135deg, #10b981, #34d399); color: white; }
.scale-item.grade-a-minus, .scale-item.grade-aminus { background: linear-gradient(135deg, #34d399, #6ee7b7); color: #1f2937; }
.scale-item.grade-b-plus, .scale-item.grade-bplus { background: linear-gradient(135deg, #2563eb, #3b82f6); color: white; }
.scale-item.grade-b { background: linear-gradient(135deg, #3b82f6, #60a5fa); color: white; }
.scale-item.grade-b-minus, .scale-item.grade-bminus { background: linear-gradient(135deg, #60a5fa, #93c5fd); color: #1f2937; }
.scale-item.grade-c-plus, .scale-item.grade-cplus { background: linear-gradient(135deg, #d97706, #f59e0b); color: white; }
.scale-item.grade-c { background: linear-gradient(135deg, #f59e0b, #fbbf24); color: #1f2937; }
.scale-item.grade-c-minus, .scale-item.grade-cminus { background: linear-gradient(135deg, #fbbf24, #fde047); color: #1f2937; }
.scale-item.grade-d { background: linear-gradient(135deg, #ef4444, #f87171); color: white; }
.scale-item.grade-f { background: linear-gradient(135deg, #6b7280, #9ca3af); color: white; }

/* Input mode responsive adjustments */
@media (max-width: 768px) {
    .gpa-settings {
        grid-template-columns: 1fr;
    }
    
    .course-fields {
        grid-template-columns: 1fr;
        gap: 0.75rem;
    }
    
    .conversion-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (max-width: 480px) {
    .conversion-grid {
        grid-template-columns: 1fr;
    }
    
    .auto-grade-value {
        font-size: 0.8rem;
        padding: 0.6rem;
    }
}
/* Important note styling */
.important-note {
    background: var(--warning);
    color: white;
    padding: 1rem;
    border-radius: 8px;
    margin-top: 1rem;
    text-align: center;
    font-size: 0.9rem;
    border: 2px solid rgba(255, 255, 255, 0.2);
}

.important-note strong {
    color: white;
    font-weight: bold;
}
/* ===== POLYNOMIAL SOLVER STYLES ===== */

.polynomial-mode {
    margin-top: 1rem;
}

.polynomial-section {
    background: var(--bg-darker);
    border-radius: 15px;
    padding: 1.5rem;
    margin-bottom: 1.5rem;
}

.polynomial-section h3 {
    color: var(--text-light);
    margin-bottom: 1rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.polynomial-section h3 i {
    color: var(--primary);
}

.polynomial-description {
    margin-bottom: 1.5rem;
    padding: 1rem;
    background: var(--bg-light);
    border-radius: 10px;
    border-left: 4px solid var(--primary);
}

.polynomial-description p {
    color: var(--text-light);
    margin-bottom: 0.5rem;
    font-weight: 600;
}

.polynomial-description small {
    color: var(--text-muted);
}

.polynomial-input-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

.polynomial-input-method label,
.polynomial-degree label {
    color: var(--text-light);
    font-weight: 600;
    margin-bottom: 0.5rem;
    display: block;
}

.polynomial-input-method select,
.polynomial-degree select {
    width: 100%;
    padding: 0.75rem;
    background: var(--bg-light);
    border: 2px solid var(--border);
    border-radius: 8px;
    color: var(--text-light);
    font-size: 1rem;
}

.polynomial-input-method select:focus,
.polynomial-degree select:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2);
}

/* Coefficient Input Styles */
.coefficients-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 1rem;
    margin-top: 1rem;
}

.coefficient-item {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.coefficient-item label {
    color: var(--text-light);
    font-weight: 600;
    font-size: 0.9rem;
}

.coefficient-item input {
    padding: 0.75rem;
    background: var(--bg-light);
    border: 2px solid var(--border);
    border-radius: 8px;
    color: var(--text-light);
    font-size: 1rem;
    text-align: center;
}

.coefficient-item input:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2);
}

/* Expression and Factored Input Styles */
.expression-input .input-group,
.factored-input .input-group {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.expression-input label,
.factored-input label {
    color: var(--text-light);
    font-weight: 600;
}

.expression-input input,
.factored-input input {
    padding: 0.875rem;
    background: var(--bg-light);
    border: 2px solid var(--border);
    border-radius: 10px;
    color: var(--text-light);
    font-size: 1rem;
    font-family: 'Courier New', monospace;
}

.expression-input input:focus,
.factored-input input:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2);
}

.expression-input small,
.factored-input small {
    color: var(--text-muted);
    font-style: italic;
}

/* Polynomial Action Buttons */
.polynomial-actions {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
}

.btn-solve-polynomial,
.btn-analyze-polynomial,
.btn-clear-polynomial {
    flex: 1;
    min-width: 150px;
    padding: 1rem;
    border: none;
    border-radius: 10px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    transition: all 0.3s;
}

.btn-solve-polynomial {
    background: var(--primary);
    color: white;
}

.btn-solve-polynomial:hover {
    background: var(--primary-dark);
    transform: translateY(-2px);
    box-shadow: var(--glow);
}

.btn-analyze-polynomial {
    background: var(--secondary);
    color: white;
}

.btn-analyze-polynomial:hover {
    background: #7c3aed;
    transform: translateY(-2px);
    box-shadow: 0 0 20px rgba(139, 92, 246, 0.5);
}

.btn-clear-polynomial {
    background: var(--danger);
    color: white;
}

.btn-clear-polynomial:hover {
    background: #dc2626;
    transform: translateY(-2px);
    box-shadow: 0 0 20px rgba(239, 68, 68, 0.5);
}

/* Polynomial Results */
.polynomial-result,
.polynomial-analysis,
.polynomial-operation-result {
    margin-top: 1rem;
    padding: 1rem;
    background: var(--bg-light);
    border-left: 4px solid var(--primary);
    border-radius: 8px;
    color: var(--text-light);
    min-height: 50px;
    line-height: 1.6;
}

.polynomial-result:empty::before,
.polynomial-analysis:empty::before,
.polynomial-operation-result:empty::before {
    content: 'Results will appear here...';
    color: var(--text-muted);
    font-style: italic;
}

.polynomial-display {
    background: var(--bg-darker);
    padding: 1rem;
    border-radius: 8px;
    font-family: 'Courier New', monospace;
    font-size: 1.1rem;
    text-align: center;
    margin: 0.5rem 0;
    border: 1px solid var(--border);
}

.root-item {
    background: var(--bg-darker);
    padding: 0.75rem;
    border-radius: 8px;
    margin: 0.5rem 0;
    font-family: 'Courier New', monospace;
    font-size: 1.1rem;
    border-left: 3px solid var(--success);
}

.analysis-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin: 1rem 0;
}

.analysis-item {
    background: var(--bg-darker);
    padding: 1rem;
    border-radius: 8px;
    border: 1px solid var(--border);
}

.analysis-item strong {
    color: var(--primary);
    display: block;
    margin-bottom: 0.5rem;
}

/* Polynomial Operations */
.polynomial-operations {
    margin-top: 1rem;
}

.operation-tabs {
    display: flex;
    gap: 0.5rem;
    margin-bottom: 1.5rem;
    background: var(--bg-darker);
    padding: 0.25rem;
    border-radius: 10px;
    flex-wrap: wrap;
}

.operation-tabs .btn-tab {
    flex: 1;
    min-width: 120px;
    padding: 0.75rem;
    background: transparent;
    color: var(--text-muted);
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    font-size: 0.9rem;
    transition: all 0.3s;
}

.operation-tabs .btn-tab:hover {
    color: var(--text-light);
    background: var(--bg-light);
}

.operation-tabs .btn-tab.active {
    background: var(--primary);
    color: white;
    box-shadow: 0 0 10px rgba(99, 102, 241, 0.3);
}

.operation-content {
    transition: all 0.3s ease;
}

.polynomial-inputs {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.polynomial-inputs .input-group {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.polynomial-inputs label {
    color: var(--text-light);
    font-weight: 600;
}

.polynomial-inputs input,
.polynomial-inputs select {
    padding: 0.75rem;
    background: var(--bg-light);
    border: 2px solid var(--border);
    border-radius: 8px;
    color: var(--text-light);
    font-size: 1rem;
    font-family: 'Courier New', monospace;
}

.polynomial-inputs input:focus,
.polynomial-inputs select:focus {
    outline: none;
    border-color: var(--secondary);
    box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.2);
}

.operation-buttons {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
}

.btn-poly-op {
    flex: 1;
    min-width: 120px;
    padding: 0.875rem;
    background: var(--secondary);
    color: white;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    transition: all 0.3s;
}

.btn-poly-op:hover {
    background: #7c3aed;
    transform: translateY(-2px);
    box-shadow: 0 0 15px rgba(139, 92, 246, 0.4);
}

/* Polynomial Operation Display */
.polynomial-operation-display {
    display: grid;
    grid-template-columns: 1fr auto 1fr auto 1fr;
    gap: 1rem;
    align-items: center;
    margin: 1rem 0;
    padding: 1rem;
    background: var(--bg-darker);
    border-radius: 10px;
}

.operation-symbol,
.equals-symbol {
    font-size: 1.5rem;
    font-weight: bold;
    color: var(--primary);
    text-align: center;
}

.result-highlight {
    border: 2px solid var(--success) !important;
    background: linear-gradient(135deg, var(--bg-light), var(--bg-darker)) !important;
}

.division-display {
    text-align: center;
    margin: 1rem 0;
}

.dividend-divisor {
    font-size: 1.2rem;
    margin-bottom: 1rem;
}

.quotient-remainder {
    background: var(--bg-darker);
    padding: 1rem;
    border-radius: 8px;
    text-align: left;
}

.derivative-display {
    text-align: center;
    margin: 1rem 0;
}

/* Polynomial Examples */
.polynomial-examples {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin: 1rem 0;
}

.polynomial-examples .example-card {
    background: var(--bg-light);
    border: 2px solid var(--border);
    border-radius: 10px;
    padding: 1rem;
    cursor: pointer;
    transition: all 0.3s;
    text-align: center;
}

.polynomial-examples .example-card:hover {
    background: var(--primary);
    border-color: var(--primary);
    color: white;
    transform: translateY(-3px);
    box-shadow: 0 5px 20px rgba(99, 102, 241, 0.3);
}

.polynomial-examples .example-card h4 {
    color: var(--text-light);
    margin-bottom: 0.5rem;
    font-size: 1.1rem;
}

.polynomial-examples .example-card:hover h4 {
    color: white;
}

.polynomial-examples .example-card p {
    color: var(--text-muted);
    margin-bottom: 0.5rem;
    font-weight: 600;
    font-family: 'Courier New', monospace;
}

.polynomial-examples .example-card:hover p {
    color: rgba(255, 255, 255, 0.9);
}

.polynomial-examples .example-card small {
    color: var(--text-muted);
    font-style: italic;
}

.polynomial-examples .example-card:hover small {
    color: rgba(255, 255, 255, 0.7);
}

/* Responsive Design for Polynomial Solver */
@media (max-width: 768px) {
    .coefficients-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 0.75rem;
    }
    
    .polynomial-actions {
        flex-direction: column;
    }
    
    .polynomial-actions button {
        min-width: auto;
    }
    
    .analysis-grid {
        grid-template-columns: 1fr;
    }
    
    .operation-tabs {
        flex-direction: column;
    }
    
    .operation-tabs .btn-tab {
        min-width: auto;
    }
    
    .operation-buttons {
        flex-direction: column;
    }
    
    .polynomial-operation-display {
        grid-template-columns: 1fr;
        gap: 0.5rem;
        text-align: center;
    }
    
    .operation-symbol,
    .equals-symbol {
        font-size: 1.2rem;
    }
    
    .polynomial-examples {
        grid-template-columns: 1fr;
    }
}

@media (max-width: 480px) {
    .coefficients-grid {
        grid-template-columns: 1fr;
    }
    
    .polynomial-section {
        padding: 1rem;
    }
    
    .polynomial-display {
        font-size: 1rem;
        padding: 0.75rem;
    }
    
    .root-item {
        font-size: 1rem;
        padding: 0.6rem;
    }
    
    .analysis-item {
        padding: 0.75rem;
    }
    
    .polynomial-inputs input,
    .polynomial-inputs select {
        font-size: 0.9rem;
        padding: 0.6rem;
    }
}

/* Animation for mode transitions */
.polynomial-mode {
    animation: fadeInUp 0.5s ease;
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Special highlighting for complex numbers */
.complex-root {
    background: linear-gradient(135deg, var(--secondary), #7c3aed);
    color: white;
    border-left-color: var(--secondary);
}

/* No result state styling */
.no-result {
    color: var(--text-muted);
    font-style: italic;
    text-align: center;
    padding: 2rem;
}
/* ===== POLYNOMIAL GRAPHING STYLES ===== */

.graph-controls {
    margin-bottom: 1.5rem;
}

.graph-settings {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    margin-bottom: 1rem;
}

.range-controls {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
}

.range-input {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    background: var(--bg-light);
    padding: 0.75rem;
    border-radius: 8px;
    border: 1px solid var(--border);
}

.range-input label {
    color: var(--text-light);
    font-weight: 600;
    min-width: 60px;
}

.range-input input {
    flex: 1;
    padding: 0.5rem;
    background: var(--bg-darker);
    border: 1px solid var(--border);
    border-radius: 4px;
    color: var(--text-light);
    text-align: center;
    width: 80px;
}

.range-input input:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.2);
}

.range-input span {
    color: var(--text-muted);
    font-weight: 600;
}

.graph-options {
    display: flex;
    gap: 1.5rem;
    flex-wrap: wrap;
    background: var(--bg-light);
    padding: 0.75rem;
    border-radius: 8px;
    border: 1px solid var(--border);
}

.graph-options label {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    color: var(--text-light);
    font-weight: 600;
    cursor: pointer;
}

.graph-options input[type="checkbox"] {
    width: 18px;
    height: 18px;
    accent-color: var(--primary);
}

.graph-actions {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
}

.btn-plot-graph,
.btn-auto-scale,
.btn-reset-view {
    flex: 1;
    min-width: 140px;
    padding: 0.875rem;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    transition: all 0.3s;
}

.btn-plot-graph {
    background: var(--success);
    color: white;
}

.btn-plot-graph:hover {
    background: #059669;
    transform: translateY(-2px);
    box-shadow: 0 0 20px rgba(16, 185, 129, 0.4);
}

.btn-auto-scale {
    background: var(--warning);
    color: white;
}

.btn-auto-scale:hover {
    background: #d97706;
    transform: translateY(-2px);
    box-shadow: 0 0 20px rgba(245, 158, 11, 0.4);
}

.btn-reset-view {
    background: var(--bg-light);
    color: var(--text-light);
    border: 2px solid var(--border);
}

.btn-reset-view:hover {
    background: var(--primary);
    color: white;
    border-color: var(--primary);
    transform: translateY(-2px);
}

.graph-container {
    position: relative;
    background: white;
    border-radius: 10px;
    padding: 1rem;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    border: 2px solid var(--border);
}

#polynomialCanvas {
    width: 100%;
    max-width: 800px;
    height: auto;
    border-radius: 8px;
    cursor: crosshair;
    display: block;
    margin: 0 auto;
}

.graph-info {
    margin-top: 1rem;
    padding: 1rem;
    background: var(--bg-light);
    border-radius: 8px;
    border-left: 4px solid var(--success);
}

.graph-info:empty::before {
    content: 'Graph information will appear here...';
    color: var(--text-muted);
    font-style: italic;
}

.graph-summary {
    color: var(--text-light);
}

.graph-summary h4 {
    color: var(--success);
    margin-bottom: 0.75rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.graph-summary p {
    margin-bottom: 0.5rem;
    line-height: 1.5;
}

.graph-summary strong {
    color: var(--primary);
}

.error {
    background: var(--bg-light);
    color: var(--danger);
    padding: 1rem;
    border-radius: 8px;
    border-left: 4px solid var(--danger);
    text-align: center;
}

/* Graph loading animation */
.graph-loading {
    display: flex;
    align-items: center;
    justify-content: center;
    height: 400px;
    background: var(--bg-light);
    border-radius: 8px;
    color: var(--text-muted);
}

.graph-loading::before {
    content: '';
    width: 40px;
    height: 40px;
    border: 4px solid var(--border);
    border-top: 4px solid var(--primary);
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin-right: 1rem;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* Responsive design for graph */
@media (max-width: 768px) {
    .range-controls {
        grid-template-columns: 1fr;
    }
    
    .graph-options {
        flex-direction: column;
        gap: 0.75rem;
    }
    
    .graph-actions {
        flex-direction: column;
    }
    
    .graph-actions button {
        min-width: auto;
    }
    
    #polynomialCanvas {
        max-width: 100%;
        height: 300px;
    }
    
    .range-input {
        flex-direction: column;
        align-items: stretch;
        gap: 0.5rem;
    }
    
    .range-input label {
        min-width: auto;
        text-align: center;
    }
}

@media (max-width: 480px) {
    .graph-container {
        padding: 0.5rem;
    }
    
    .graph-settings {
        gap: 0.75rem;
    }
    
    .range-input {
        padding: 0.5rem;
    }
    
    .graph-options {
        padding: 0.5rem;
    }
    
    #polynomialCanvas {
        height: 250px;
    }
    
    .graph-info {
        padding: 0.75rem;
    }
    
    .graph-summary h4 {
        font-size: 1rem;
    }
    
    .graph-summary p {
        font-size: 0.9rem;
    }
}

/* Canvas tooltip styling */
#polynomialCanvas[title] {
    position: relative;
}

/* Graph interaction hints */
.graph-hints {
    background: var(--bg-darker);
    padding: 0.75rem;
    border-radius: 6px;
    margin-top: 0.5rem;
    font-size: 0.85rem;
    color: var(--text-muted);
    text-align: center;
}

.graph-hints::before {
    content: 'ðŸ’¡ ';
    margin-right: 0.25rem;
}

/* High DPI canvas support */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
    #polynomialCanvas {
        image-rendering: -webkit-optimize-contrast;
        image-rendering: crisp-edges;
    }
}
/* ===== ADVANCED FUNCTION GRAPHER STYLES ===== */

.grapher-mode {
    margin-top: 1rem;
}

.grapher-section {
    background: var(--bg-darker);
    border-radius: 15px;
    padding: 1.5rem;
    margin-bottom: 1.5rem;
}

.grapher-section h3 {
    color: var(--text-light);
    margin-bottom: 1rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.grapher-section h3 i {
    color: var(--primary);
}

.grapher-description {
    margin-bottom: 1.5rem;
    padding: 1rem;
    background: var(--bg-light);
    border-radius: 10px;
    border-left: 4px solid var(--primary);
}

.grapher-description p {
    color: var(--text-light);
    margin-bottom: 0.5rem;
    font-weight: 600;
}

.grapher-description small {
    color: var(--text-muted);
}

/* Function Input Tabs */
.function-tabs {
    display: flex;
    gap: 0.5rem;
    margin-bottom: 1.5rem;
    background: var(--bg-darker);
    padding: 0.25rem;
    border-radius: 10px;
    flex-wrap: wrap;
}

.function-tabs .btn-tab {
    flex: 1;
    min-width: 120px;
    padding: 0.75rem;
    background: transparent;
    color: var(--text-muted);
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    font-size: 0.85rem;
    transition: all 0.3s;
}

.function-tabs .btn-tab:hover {
    color: var(--text-light);
    background: var(--bg-light);
}

.function-tabs .btn-tab.active {
    background: var(--primary);
    color: white;
    box-shadow: 0 0 10px rgba(99, 102, 241, 0.3);
}

/* Function Input Content */
.function-input-content {
    margin-bottom: 1.5rem;
    transition: all 0.3s ease;
}

.function-input-content .input-group {
    margin-bottom: 1rem;
}

.function-input-content label {
    display: block;
    color: var(--text-light);
    font-weight: 600;
    margin-bottom: 0.5rem;
}

.function-input-content input,
.function-input-content select {
    width: 100%;
    padding: 0.75rem;
    background: var(--bg-light);
    border: 2px solid var(--border);
    border-radius: 8px;
    color: var(--text-light);
    font-size: 1rem;
}

.function-input-content input:focus,
.function-input-content select:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2);
}

.function-input-content small {
    color: var(--text-muted);
    font-size: 0.85rem;
    margin-top: 0.5rem;
    display: block;
}

/* Polynomial Coefficients */
.polynomial-coefficients {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: 1rem;
    margin-top: 1rem;
}

.coeff-input {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.coeff-input label {
    color: var(--text-light);
    font-weight: 600;
    font-size: 0.9rem;
    text-align: center;
}

.coeff-input input {
    padding: 0.6rem;
    text-align: center;
    font-family: 'Courier New', monospace;
}

/* Function Builders */
.trig-builder,
.exp-builder,
.log-builder {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin-bottom: 1rem;
}

.input-row {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.input-row label {
    color: var(--text-light);
    font-weight: 600;
    font-size: 0.9rem;
}

.input-row input,
.input-row select {
    padding: 0.6rem;
    background: var(--bg-light);
    border: 2px solid var(--border);
    border-radius: 6px;
    color: var(--text-light);
}

.input-row input:focus,
.input-row select:focus {
    border-color: var(--secondary);
    box-shadow: 0 0 0 2px rgba(139, 92, 246, 0.2);
}

/* Preset Buttons */
.btn-preset {
    padding: 0.4rem 0.8rem;
    background: var(--warning);
    color: white;
    border: none;
    border-radius: 4px;
    font-size: 0.8rem;
    font-weight: 600;
    cursor: pointer;
    margin-left: 0.5rem;
    transition: all 0.3s;
}

.btn-preset:hover {
    background: #d97706;
    transform: translateY(-1px);
}

/* Function Previews */
.trig-preview,
.exp-preview,
.log-preview {
    grid-column: 1 / -1;
    background: var(--bg-darker);
    padding: 1rem;
    border-radius: 8px;
    border-left: 4px solid var(--secondary);
    margin-top: 1rem;
}

.trig-preview strong,
.exp-preview strong,
.log-preview strong {
    color: var(--secondary);
}

.trig-preview span,
.exp-preview span,
.log-preview span {
    color: var(--text-light);
    font-family: 'Courier New', monospace;
    font-size: 1.1rem;
}

/* Function Actions */
.function-actions {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
}

.btn-add-function,
.btn-test-function,
.btn-clear-functions,
.btn-example-functions {
    flex: 1;
    min-width: 150px;
    padding: 1rem;
    border: none;
    border-radius: 10px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    transition: all 0.3s;
}

.btn-add-function {
    background: var(--success);
    color: white;
}

.btn-add-function:hover {
    background: #059669;
    transform: translateY(-2px);
    box-shadow: 0 0 20px rgba(16, 185, 129, 0.4);
}

.btn-test-function {
    background: var(--primary);
    color: white;
}

.btn-test-function:hover {
    background: var(--primary-dark);
    transform: translateY(-2px);
    box-shadow: var(--glow);
}

.btn-clear-functions {
    background: var(--danger);
    color: white;
}

.btn-clear-functions:hover {
    background: #dc2626;
    transform: translateY(-2px);
    box-shadow: 0 0 20px rgba(239, 68, 68, 0.4);
}

.btn-example-functions {
    background: var(--secondary);
    color: white;
}

.btn-example-functions:hover {
    background: #7c3aed;
    transform: translateY(-2px);
    box-shadow: 0 0 20px rgba(139, 92, 246, 0.4);
}

/* Advanced Graph Controls */
.advanced-graph-controls {
    margin-bottom: 1.5rem;
}

.graph-settings-grid {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    gap: 1.5rem;
    margin-bottom: 1rem;
}

.range-controls {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.range-group {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    background: var(--bg-light);
    padding: 0.75rem;
    border-radius: 8px;
    border: 1px solid var(--border);
}

.range-group label {
    color: var(--text-light);
    font-weight: 600;
    min-width: 60px;
}

.range-group input {
    flex: 1;
    padding: 0.5rem;
    background: var(--bg-darker);
    border: 1px solid var(--border);
    border-radius: 4px;
    color: var(--text-light);
    text-align: center;
    width: 70px;
}

.range-group span {
    color: var(--text-muted);
    font-weight: 600;
}

.display-options {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.option-group {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    background: var(--bg-light);
    padding: 0.75rem;
    border-radius: 8px;
    border: 1px solid var(--border);
}

.option-group label {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    color: var(--text-light);
    font-weight: 600;
    cursor: pointer;
    font-size: 0.9rem;
}

.option-group input[type="checkbox"] {
    width: 16px;
    height: 16px;
    accent-color: var(--primary);
}

.precision-controls {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.precision-group {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    background: var(--bg-light);
    padding: 0.75rem;
    border-radius: 8px;
    border: 1px solid var(--border);
}

.precision-group label {
    color: var(--text-light);
    font-weight: 600;
    font-size: 0.9rem;
}

.precision-group select {
    padding: 0.5rem;
    background: var(--bg-darker);
    border: 1px solid var(--border);
    border-radius: 4px;
    color: var(--text-light);
}

/* Advanced Graph Actions */
.graph-actions-advanced {
    display: flex;
    gap: 0.75rem;
    flex-wrap: wrap;
}

.btn-plot-advanced,
.btn-auto-fit,
.btn-zoom-in,
.btn-zoom-out,
.btn-reset-advanced {
    flex: 1;
    min-width: 110px;
    padding: 0.75rem;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    font-size: 0.85rem;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.4rem;
    transition: all 0.3s;
}

.btn-plot-advanced {
    background: var(--success);
    color: white;
}

.btn-plot-advanced:hover {
    background: #059669;
    transform: translateY(-2px);
}

.btn-auto-fit {
    background: var(--warning);
    color: white;
}

.btn-auto-fit:hover {
    background: #d97706;
    transform: translateY(-2px);
}

.btn-zoom-in,
.btn-zoom-out {
    background: var(--primary);
    color: white;
}

.btn-zoom-in:hover,
.btn-zoom-out:hover {
    background: var(--primary-dark);
    transform: translateY(-2px);
}

.btn-reset-advanced {
    background: var(--bg-light);
    color: var(--text-light);
    border: 2px solid var(--border);
}

.btn-reset-advanced:hover {
    background: var(--secondary);
    color: white;
    border-color: var(--secondary);
    transform: translateY(-2px);
}

/* Advanced Graph Container */
.advanced-graph-container {
    position: relative;
    background: white;
    border-radius: 12px;
    padding: 1rem;
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
    border: 2px solid var(--border);
}

#advancedCanvas {
    width: 100%;
    max-width: 900px;
    height: auto;
    border-radius: 8px;
    cursor: crosshair;
    display: block;
    margin: 0 auto;
}

.graph-coordinates {
    text-align: center;
    margin-top: 0.75rem;
    padding: 0.5rem;
    background: var(--bg-light);
    border-radius: 6px;
    color: var(--text-light);
    font-family: 'Courier New', monospace;
    font-size: 0.9rem;
}

/* Function List */
.function-list {
    max-height: 400px;
    overflow-y: auto;
}

.no-functions {
    color: var(--text-muted);
    font-style: italic;
    text-align: center;
    padding: 2rem;
}

.function-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem;
    margin-bottom: 0.75rem;
    background: var(--bg-light);
    border-radius: 8px;
    border-left: 4px solid var(--primary);
}

.function-info {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
}

.function-expression {
    color: var(--text-light);
    font-family: 'Courier New', monospace;
    font-size: 1rem;
    font-weight: 600;
}

.function-type {
    color: var(--text-muted);
    font-size: 0.8rem;
    text-transform: uppercase;
    font-weight: 600;
}

.function-controls {
    display: flex;
    gap: 0.5rem;
}

.btn-toggle,
.btn-remove {
    padding: 0.5rem;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s;
}

.btn-toggle {
    background: var(--bg-darker);
    color: var(--text-muted);
}

.btn-toggle.active {
    background: var(--success);
    color: white;
}

.btn-toggle:hover {
    transform: scale(1.1);
}

.btn-remove {
    background: var(--danger);
    color: white;
}

.btn-remove:hover {
    background: #dc2626;
    transform: scale(1.1);
}

/* Example Categories */
.example-categories {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
}

.example-category {
    background: var(--bg-light);
    padding: 1.5rem;
    border-radius: 10px;
    border: 1px solid var(--border);
}

.example-category h4 {
    color: var(--primary);
    margin-bottom: 1rem;
    font-size: 1.1rem;
}

.example-functions {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
}

.btn-example {
    padding: 0.5rem 0.75rem;
    background: var(--bg-darker);
    color: var(--text-light);
    border: 1px solid var(--border);
    border-radius: 6px;
    cursor: pointer;
    font-family: 'Courier New', monospace;
    font-size: 0.85rem;
    transition: all 0.3s;
}

.btn-example:hover {
    background: var(--primary);
    color: white;
    border-color: var(--primary);
    transform: translateY(-2px);
}

/* Responsive Design */
@media (max-width: 1024px) {
    .graph-settings-grid {
        grid-template-columns: 1fr 1fr;
    }
    
    .function-tabs {
        flex-direction: column;
    }
    
    .function-tabs .btn-tab {
        min-width: auto;
    }
}

@media (max-width: 768px) {
    .graph-settings-grid {
        grid-template-columns: 1fr;
    }
    
    .trig-builder,
    .exp-builder,
    .log-builder {
        grid-template-columns: 1fr;
    }
    
    .function-actions {
        flex-direction: column;
    }
    
    .graph-actions-advanced {
        flex-direction: column;
    }
    
    .graph-actions-advanced button {
        min-width: auto;
    }
    
    .polynomial-coefficients {
        grid-template-columns: repeat(3, 1fr);
    }
    
    .example-categories {
        grid-template-columns: 1fr;
    }
    
    .function-item {
        flex-direction: column;
        align-items: stretch;
        gap: 1rem;
    }
    
    .function-controls {
        justify-content: center;
    }
}

@media (max-width: 480px) {
    .grapher-section {
        padding: 1rem;
    }
    
    .range-group {
        flex-direction: column;
        align-items: stretch;
        gap: 0.5rem;
    }
    
    .range-group label {
        min-width: auto;
        text-align: center;
    }
    
    .polynomial-coefficients {
        grid-template-columns: repeat(2, 1fr);
    }
    
    #advancedCanvas {
        height: 300px;
    }
    
    .example-functions {
        flex-direction: column;
    }
    
    .btn-example {
        text-align: center;
    }
}

/* Animation for mode transitions */
.grapher-mode {
    animation: fadeInUp 0.5s ease;
}

/* Scrollbar styling for function list */
.function-list::-webkit-scrollbar {
    width: 8px;
}

.function-list::-webkit-scrollbar-track {
    background: var(--bg-darker);
    border-radius: 4px;
}

.function-list::-webkit-scrollbar-thumb {
    background: var(--primary);
    border-radius: 4px;
}

.function-list::-webkit-scrollbar-thumb:hover {
    background: var(--primary-dark);
}
/* Advanced Function Grapher Styles */
.grapher-mode {
    margin-top: 1rem;
}

.grapher-section {
    background: var(--bg-darker);
    border-radius: 15px;
    padding: 1.5rem;
    margin-bottom: 1.5rem;
}

.grapher-section h3 {
    color: var(--text-light);
    margin-bottom: 1rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.grapher-section h3 i {
    color: var(--primary);
}

.grapher-description {
    margin-bottom: 1.5rem;
}

.grapher-description p {
    color: var(--text-light);
    margin-bottom: 0.5rem;
}

.grapher-description small {
    color: var(--text-muted);
}

/* Function Input Styles */
.function-inputs {
    margin-bottom: 1.5rem;
}

.function-tabs {
    display: flex;
    gap: 0.5rem;
    margin-bottom: 1rem;
    background: var(--bg-darker);
    padding: 0.25rem;
    border-radius: 10px;
    flex-wrap: wrap;
}

.function-tabs .btn-tab {
    flex: 1;
    min-width: 120px;
    padding: 0.75rem;
    background: transparent;
    color: var(--text-muted);
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    font-size: 0.9rem;
    transition: all 0.3s;
}

.function-tabs .btn-tab:hover {
    color: var(--text-light);
    background: var(--bg-light);
}

.function-tabs .btn-tab.active {
    background: var(--primary);
    color: white;
    box-shadow: 0 0 10px rgba(99, 102, 241, 0.3);
}

.function-input-content {
    background: var(--bg-light);
    border-radius: 10px;
    padding: 1rem;
    margin-bottom: 1rem;
}

.function-input-content .input-group {
    margin-bottom: 1rem;
}

.function-input-content .input-group:last-child {
    margin-bottom: 0;
}

.function-input-content label {
    color: var(--text-light);
    font-weight: 600;
    margin-bottom: 0.5rem;
    display: block;
}

.function-input-content input,
.function-input-content select {
    width: 100%;
    padding: 0.75rem;
    background: var(--bg-darker);
    border: 2px solid var(--border);
    border-radius: 8px;
    color: var(--text-light);
    font-size: 1rem;
}

.function-input-content input:focus,
.function-input-content select:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2);
}

.function-input-content small {
    color: var(--text-muted);
    font-size: 0.85rem;
    margin-top: 0.5rem;
    display: block;
}

/* Builder Styles */
.trig-builder,
.exp-builder,
.log-builder {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
}

.input-row {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.input-row label {
    color: var(--text-light);
    font-weight: 600;
    font-size: 0.9rem;
}

.input-row input,
.input-row select {
    padding: 0.6rem;
    background: var(--bg-darker);
    border: 2px solid var(--border);
    border-radius: 6px;
    color: var(--text-light);
    font-size: 0.9rem;
}

.input-row input:focus,
.input-row select:focus {
    outline: none;
    border-color: var(--secondary);
    box-shadow: 0 0 0 2px rgba(139, 92, 246, 0.2);
}

.btn-preset {
    padding: 0.4rem 0.8rem;
    background: var(--warning);
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 0.8rem;
    font-weight: 600;
    margin-left: 0.5rem;
    transition: all 0.3s;
}

.btn-preset:hover {
    background: #d97706;
    transform: translateY(-1px);
}

/* Preview Styles */
.trig-preview,
.exp-preview,
.log-preview {
    grid-column: 1 / -1;
    background: var(--bg-darker);
    padding: 1rem;
    border-radius: 8px;
    border-left: 4px solid var(--primary);
    margin-top: 1rem;
}

.trig-preview strong,
.exp-preview strong,
.log-preview strong {
    color: var(--primary);
}

.trig-preview span,
.exp-preview span,
.log-preview span {
    color: var(--text-light);
    font-family: 'Courier New', monospace;
    font-size: 1.1rem;
}

/* Polynomial Coefficients */
.polynomial-coefficients {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 1rem;
    margin-top: 1rem;
}

.coeff-input {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.coeff-input label {
    color: var(--text-light);
    font-weight: 600;
    font-size: 0.9rem;
}

.coeff-input input {
    padding: 0.6rem;
    background: var(--bg-darker);
    border: 2px solid var(--border);
    border-radius: 6px;
    color: var(--text-light);
    font-size: 0.9rem;
    text-align: center;
}

.coeff-input input:focus {
    outline: none;
    border-color: var(--warning);
    box-shadow: 0 0 0 2px rgba(245, 158, 11, 0.2);
}

/* Function Actions */
.function-actions {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
}

.btn-add-function {
    flex: 1;
    min-width: 150px;
    padding: 1rem;
    background: var(--success);
    color: white;
    border: none;
    border-radius: 10px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    transition: all 0.3s;
}

.btn-add-function:hover {
    background: #059669;
    transform: translateY(-2px);
    box-shadow: 0 0 20px rgba(16, 185, 129, 0.4);
}

.btn-clear-functions,
.btn-example-functions {
    padding: 1rem;
    background: var(--bg-light);
    color: var(--text-light);
    border: 2px solid var(--border);
    border-radius: 10px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    transition: all 0.3s;
}

.btn-clear-functions:hover {
    background: var(--danger);
    border-color: var(--danger);
    color: white;
    transform: translateY(-2px);
}

.btn-example-functions:hover {
    background: var(--warning);
    border-color: var(--warning);
    color: white;
    transform: translateY(-2px);
}

/* Advanced Graph Controls */
.advanced-graph-controls {
    margin-bottom: 1.5rem;
}

.graph-settings-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
    margin-bottom: 1.5rem;
}

.range-controls {
    background: var(--bg-light);
    padding: 1rem;
    border-radius: 10px;
}

.range-group {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 1rem;
}

.range-group:last-child {
    margin-bottom: 0;
}

.range-group label {
    color: var(--text-light);
    font-weight: 600;
    min-width: 80px;
}

.range-group input {
    flex: 1;
    padding: 0.6rem;
    background: var(--bg-darker);
    border: 2px solid var(--border);
    border-radius: 6px;
    color: var(--text-light);
    text-align: center;
}

.range-group input:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.2);
}

.range-group span {
    color: var(--text-muted);
    font-weight: 600;
}

.display-options,
.precision-controls {
    background: var(--bg-light);
    padding: 1rem;
    border-radius: 10px;
}

.option-group,
.precision-group {
    margin-bottom: 1rem;
}

.option-group:last-child,
.precision-group:last-child {
    margin-bottom: 0;
}

.option-group label {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    color: var(--text-light);
    font-weight: 600;
    margin-bottom: 0.5rem;
    cursor: pointer;
}

.option-group input[type="checkbox"] {
    width: auto;
    margin: 0;
}

.precision-group label {
    color: var(--text-light);
    font-weight: 600;
    margin-bottom: 0.5rem;
    display: block;
}

.precision-group select {
    width: 100%;
    padding: 0.6rem;
    background: var(--bg-darker);
    border: 2px solid var(--border);
    border-radius: 6px;
    color: var(--text-light);
}

.precision-group select:focus {
    outline: none;
    border-color: var(--secondary);
    box-shadow: 0 0 0 2px rgba(139, 92, 246, 0.2);
}

/* Graph Actions */
.graph-actions-advanced {
    display: flex;
    gap: 0.75rem;
    flex-wrap: wrap;
}

.btn-plot-advanced {
    flex: 1;
    min-width: 120px;
    padding: 1rem;
    background: var(--primary);
    color: white;
    border: none;
    border-radius: 10px;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    transition: all 0.3s;
}

.btn-plot-advanced:hover {
    background: var(--primary-dark);
    transform: translateY(-2px);
    box-shadow: var(--glow);
}

.btn-auto-fit,
.btn-zoom-in,
.btn-zoom-out,
.btn-reset-advanced {
    padding: 1rem;
    background: var(--bg-light);
    color: var(--text-light);
    border: 2px solid var(--border);
    border-radius: 10px;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    transition: all 0.3s;
}

.btn-auto-fit:hover,
.btn-zoom-in:hover,
.btn-zoom-out:hover {
    background: var(--secondary);
    border-color: var(--secondary);
    color: white;
    transform: translateY(-2px);
}

.btn-reset-advanced:hover {
    background: var(--warning);
    border-color: var(--warning);
    color: white;
    transform: translateY(-2px);
}

/* Advanced Graph Container */
.advanced-graph-container {
    position: relative;
    background: white;
    border-radius: 15px;
    padding: 1rem;
    box-shadow: var(--shadow);
}

#advancedCanvas {
    width: 100%;
    height: auto;
    max-width: 900px;
    border-radius: 10px;
    cursor: crosshair;
}

.graph-coordinates {
    position: absolute;
    top: 1rem;
    right: 1rem;
    background: rgba(0, 0, 0, 0.8);
    color: white;
    padding: 0.5rem 1rem;
    border-radius: 6px;
    font-family: 'Courier New', monospace;
    font-size: 0.9rem;
    pointer-events: none;
}

/* Function List */
.function-list {
    max-height: 300px;
    overflow-y: auto;
}

.no-functions {
    color: var(--text-muted);
    text-align: center;
    padding: 2rem;
    font-style: italic;
}

.function-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: var(--bg-light);
    padding: 1rem;
    border-radius: 10px;
    margin-bottom: 0.75rem;
    border-left: 4px solid var(--primary);
}

.function-info {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
}

.function-expression {
    color: var(--text-light);
    font-family: 'Courier New', monospace;
    font-size: 1rem;
    font-weight: 600;
}

.function-type {
    color: var(--text-muted);
    font-size: 0.85rem;
    text-transform: capitalize;
}

.function-controls {
    display: flex;
    gap: 0.5rem;
}

.btn-toggle,
.btn-remove {
    width: 40px;
    height: 40px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s;
}

.btn-toggle {
    background: var(--success);
    color: white;
}

.btn-toggle:not(.active) {
    background: var(--text-muted);
}

.btn-toggle:hover {
    transform: scale(1.1);
}

.btn-remove {
    background: var(--danger);
    color: white;
}

.btn-remove:hover {
    background: #dc2626;
    transform: scale(1.1);
}

/* Example Categories */
.example-categories {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
}

.example-category {
    background: var(--bg-light);
    padding: 1rem;
    border-radius: 10px;
}

.example-category h4 {
    color: var(--primary);
    margin-bottom: 1rem;
    font-size: 1.1rem;
}

.example-functions {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
}

.btn-example {
    padding: 0.5rem 1rem;
    background: var(--bg-darker);
    color: var(--text-light);
    border: 2px solid var(--border);
    border-radius: 6px;
    cursor: pointer;
    font-size: 0.9rem;
    font-weight: 600;
    transition: all 0.3s;
}

.btn-example:hover {
    background: var(--primary);
    border-color: var(--primary);
    color: white;
    transform: translateY(-2px);
}

/* Analysis Tools */
.analysis-tools {
    background: var(--bg-light);
    padding: 1rem;
    border-radius: 10px;
}

.analysis-input {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1rem;
    flex-wrap: wrap;
}

.analysis-input label {
    color: var(--text-light);
    font-weight: 600;
    white-space: nowrap;
}

.analysis-input input {
    flex: 1;
    min-width: 100px;
    padding: 0.6rem;
    background: var(--bg-darker);
    border: 2px solid var(--border);
    border-radius: 6px;
    color: var(--text-light);
    text-align: center;
}

.analysis-input input:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.2);
}

.btn-analyze {
    padding: 0.6rem 1rem;
    background: var(--secondary);
    color: white;
    border: none;
    border-radius: 6px;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    transition: all 0.3s;
}

.btn-analyze:hover {
    background: #7c3aed;
    transform: translateY(-2px);
}

.analysis-result {
    background: var(--bg-darker);
    padding: 1rem;
    border-radius: 8px;
    border-left: 4px solid var(--secondary);
    color: var(--text-light);
    min-height: 50px;
}

.analysis-result .no-result {
    color: var(--text-muted);
    font-style: italic;
    margin: 0;
}

/* Responsive Design for Grapher */
@media (max-width: 768px) {
    .function-tabs {
        flex-direction: column;
    }
    
    .function-tabs .btn-tab {
        min-width: auto;
    }
    
    .trig-builder,
    .exp-builder,
    .log-builder {
        grid-template-columns: 1fr;
    }
    
    .graph-settings-grid {
        grid-template-columns: 1fr;
    }
    
    .graph-actions-advanced {
        flex-direction: column;
    }
    
    .btn-plot-advanced {
        min-width: auto;
    }
    
    .example-categories {
        grid-template-columns: 1fr;
    }
    
    .function-item {
        flex-direction: column;
        align-items: flex-start;
        gap: 1rem;
    }
    
    .function-controls {
        align-self: flex-end;
    }
    
    .analysis-input {
        flex-direction: column;
        align-items: stretch;
    }
    
    .analysis-input label {
        white-space: normal;
    }
}

@media (max-width: 480px) {
    .grapher-section {
        padding: 1rem;
    }
    
    .function-actions {
        flex-direction: column;
    }
    
    .range-group {
        flex-direction: column;
        align-items: stretch;
        gap: 0.5rem;
    }
    
    .range-group label {
        min-width: auto;
    }
    
    .example-functions {
        flex-direction: column;
    }
    
    .btn-example {
        text-align: center;
    }
    
    #advancedCanvas {
        max-width: 100%;
    }
}

/* Scrollbar for function list */
.function-list::-webkit-scrollbar {
    width: 8px;
}

.function-list::-webkit-scrollbar-track {
    background: var(--bg-darker);
}

.function-list::-webkit-scrollbar-thumb {
    background: var(--primary);
    border-radius: 4px;
}

.function-list::-webkit-scrollbar-thumb:hover {
    background: var(--primary-dark);
}